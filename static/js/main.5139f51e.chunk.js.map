{"version":3,"sources":["../../lib/Button.js","../../lib/Editor.js","../../lib/utils.js","../../lib/StateChart.js","../../lib/tracker.js","../../lib/StateChartNode.js","../../lib/Edge.js","../../lib/InitialEdge.js","../../../xstate/es/constants.js","../../../xstate/es/utils.js","../../../xstate/es/types.js","../../../xstate/es/State.js","../../../xstate/es/actionTypes.js","../../../xstate/es/actions.js","../../../xstate/es/StateTree.js","../../../xstate/es/StateNode.js","../../../xstate/es/index.js","../../../xstate/es/Machine.js","App.tsx","serviceWorker.ts","index.tsx"],"names":["templateObject_1","__makeTemplateObject","cooked","raw","Object","defineProperty","value","StyledButton","styled_components_browser_esm","button","__webpack_require__","d","__webpack_exports__","Editor_Editor","Editor_templateObject_1","Editor_makeTemplateObject","__extends","_extendStatics","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","this","constructor","prototype","create","StyledEditor","div","_super","Editor","_this","apply","arguments","state","code","props","render","_a","onChange","_b","height","_c","changeText","react_default","a","createElement","lib_default","mode","theme","editorProps","$blockScrolling","setState","setOptions","tabSize","fontSize","width","showGutter","readOnly","onClick","react","flatten","array","concat","condToString","cond","toString","serializeEdge","edge","replace","source","id","event","target","isHidden","el","rect","getBoundingClientRect","relative","childRect","parentElement","parentRect","top","right","left","bottom","initialStateNodes","stateNode","stateKeys","keys","states","map","key","childStateNode","type","stateActions","onEntry","onExit","center","x","y","StateChart","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","styled_components__WEBPACK_IMPORTED_MODULE_1__","xstate_lib_interpreter__WEBPACK_IMPORTED_MODULE_2__","xstate_lib_interpreter__WEBPACK_IMPORTED_MODULE_2___default","xstate__WEBPACK_IMPORTED_MODULE_3__","xstate_lib_graph__WEBPACK_IMPORTED_MODULE_4__","xstate_lib_graph__WEBPACK_IMPORTED_MODULE_4___default","_StateChartNode__WEBPACK_IMPORTED_MODULE_5__","_utils__WEBPACK_IMPORTED_MODULE_6__","_Edge__WEBPACK_IMPORTED_MODULE_7__","_Editor__WEBPACK_IMPORTED_MODULE_8__","_InitialEdge__WEBPACK_IMPORTED_MODULE_9__","__assign","assign","t","s","i","length","call","StyledViewTab","li","StyledViewTabs","ul","templateObject_2","StyledSidebar","templateObject_3","StyledView","templateObject_4","StyledStateChart","templateObject_5","StyledField","templateObject_6","StyledPre","pre","templateObject_7","Field","label","children","disabled","style","opacity","undefined","toMachine","machine","createMachine","resultMachine","Function","e","config","options","ctx","console","log","StyledVisualization","templateObject_8","StyledStateViewActions","templateObject_9","StyledStateViewAction","templateObject_10","current","initialState","preview","previewEvent","view","JSON","stringify","toggledStates","service","onTransition","nextState","svgRef","createRef","componentDidMount","start","renderView","updateMachine","Fragment","overflowY","context","actions","marginTop","borderTop","flexShrink","background","eventData","eval","send","error","alert","stop","edges","stateNodes","getStateNodes","events","Set","forEach","on","transition","add","--color-app-background","--color-border","--color-primary","--color-primary-faded","--color-primary-shadow","--color-link","--color-disabled","--color-edge","--color-secondary","--color-secondary-light","--color-sidebar","--radius","--border-width","onEvent","bind","onPreEvent","onExitPreEvent","position","--color","overflow","pointerEvents","ref","markerWidth","markerHeight","refX","refY","markerUnits","orient","fill","svg","matches","path","join","initialStateNode","data-active","Component","tracker","_utils__WEBPACK_IMPORTED_MODULE_0__","Tracker","elements","Map","window","addEventListener","updateAll","from","update","get","element","set","listeners","hidden","data","notify","desc","querySelectorAll","getAttribute","listen","listener","StateChartNode","_utils__WEBPACK_IMPORTED_MODULE_2__","_tracker__WEBPACK_IMPORTED_MODULE_3__","StyledChildStates","StyledChildStatesToggle","StyledStateNodeHeader","header","StyledStateNode","StyledEvents","StyledStateNodeActions","StyledEvent","StyledEventButton","StyledStateNodeAction","StyledEventDot","toggled","stateRef","componentDidUpdate","isActive","isPreview","dataType","parent","data-key","data-id","data-type","data-preview","data-open","--depth","definition","action","actionString","data-action-type","depth","ownEvent","isBuiltInEvent","indexOf","nextEvents","--delay","delay","data-disabled","onMouseOver","onMouseOut","data-delay","data-builtin","title","match","friendlyEventName","stopPropagation","Edge","_utils__WEBPACK_IMPORTED_MODULE_1__","_tracker__WEBPACK_IMPORTED_MODULE_2__","eventElement","sourceElement","targetElement","sourceData","targetData","eventId","parentData","endSide","eventRect","targetRect","eventCenterPt","targetCenterPt","end","m","dy","preEnd","points","Math","abs","push","reduce","acc","point","prevPoint","nextPoint","dx","nextDx","nextDy","midpoint2","isHighlighted","stroke","strokeWidth","markerEnd","InitialEdge","_tracker__WEBPACK_IMPORTED_MODULE_1__","r","cx","cy","STATE_DELIMITER","EMPTY_ACTIVITY_MAP","__values","o","Symbol","iterator","next","done","__read","ar","__spread","isState","matchesState","parentStateId","childStateId","delimiter","parentStateValue","toStateValue","childStateValue","every","getEventType","Error","toStatePath","stateId","isArray","split","stateValue","pathToStateValue","statePath","marker","mapValues","collection","iteratee","result","mapFilterValues","predicate","item","object","e_1","props_1","props_1_1","e_1_1","return","ActionTypes","SpecialTargets","toStatePaths","subStateValue","subPath","toArray","State_read","State_spread","State_State","State","activities","meta","historyValue","history","tree","enumerable","inert","configurable","toStrings","valueKeys","stateValuesEqual","aKeys","bKeys","raise","Start","Stop","Raise","Send","actionTypes_cancel","Cancel","nullEvent","NullEvent","actionTypes_assign","Assign","errorExecution","After","DoneState","Log","Init","Invoke","ErrorExecution","__rest","getOwnPropertySymbols","toEventObject","getActionFunction","actionType","actionFunctionMap","actionReference","toActionObject","actionObject","exec","name","other","toActivityDefinition","actions_raise","actions_send","to","actions_cancel","sendId","actions_start","activity","activityDef","actions_stop","actions_after","idSuffix","eventObject","actions_invoke","invokeConfig","src","StateTree_assign","StateTree_read","StateTree_spread","defaultStateTreeOptions","resolved","StateTree_StateTree","StateTree","_stateValue","nodes","getStateNode","subValue","resolvedOptions","isResolved","some","getDoneData","childTree","mapper","subMapper","mapContext","atomicNodes","getDoneEvents","entryStateNodes","size","has","childDoneEvents","allChildrenDone","doneData","resolve","absoluteStateValue","ownEvents","childEvents","clone","combine","newValue","childKey","newTree","newValue_1","st","parentValue","getEntryExitStates","prevTree","externalNodes","r1","exit","entry","currentChildKey","prevChildKey","getExitStates","getEntryStates","unshift","all","result_1","ees","StateNode_assign","StateNode_rest","StateNode_read","StateNode_spread","StateNode_values","StateNode_STATE_DELIMITER","NULL_EVENT","EMPTY_OBJECT","isStateId","str","createDefaultOptions","guards","IS_PRODUCTION","StateNode_StateNode","StateNode","_config","__cache","relativeValue","idMap","parallel","warn","initial","order","stateConfig","_","transient","strict","invoke","resolveActivity","withConfig","withContext","formatTransitions","afterConfig","after","delayedTransition","allDelayedTransitions","delayKey","sort","initialStateValue","subStateKeys","subStateKey","allSubStateNodes","subStateNode","handles","eventType","transitionLeafNode","reentryStates","transitionCompoundNode","_transition","transitionParallelNode","noTransitionKeys","transitionMap","combinedTree","filter","paths","absolute","allReentryStates","candidates","selectedTransition","nextStateStrings","candidates_1","candidates_1_1","candidate","stateIn","in","resolvedContext","isInState","getStateNodeById","slice","evaluateGuard","getStateTree","nextStateNodes","getRelativeStateNodes","reentryNodes","internal","nodesFromChild","escapes","condition","interimState","condFn","transitions","getActions","prevState","entryExitStates","doneEvents","entryExitActions","delays","resolveAction","getActivities","activityMap","resolvedStateValue","getResolvedPath","currentState","stateTransition","resolvedStateTransition","resolveTransition","ensureValidPaths","message","raisedEvents","nonEventActions","assignActions","updatedContext","updateContext","updateHistoryValue","subAction","maybeNextState","currentActions","raisedEvent","shift","assignAction","assignment","partialUpdate","propAssignment","e_2","visitedParents","_path","outer","stateNodes_1","stateNodes_1_1","e_2_1","stateKey","resolvedStateId","getStateNodeByPath","arrayStatePath","currentStateNode","stateIdentifier","getInitialState","historyConfig","getStates","relativeStateId","unresolvedStateNode","resolveHistory","unresolvedStateNodes","getFromRelativePath","initialPath","relativePath","xs","hist","_hist","_sv","subHist","relativeStateValue","relativeChildPath","accessorProp","subHistoryValue","props_2","props_2_1","prop","subStatePath","childStateIds","stateIds","e_3","event_1","e_3_1","formatTransition","transitionConfig","formattedTargets","_target","internalTarget","onConfig","doneConfig","onDone","singleInvokeConfig","DoneInvoke","doneInvoke","onError","delayedTransitions","formattedTransitions","targetTransitionConfig","initialContext","lightMachine","green","TIMER","yellow","red","App","className","Boolean","location","hostname","ReactDOM","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.5139f51e.chunk.js","sourcesContent":["var __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nimport styled from \"styled-components\";\nexport var StyledButton = styled.button(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  appearance: none;\\n  background: transparent;\\n  color: white;\\n  height: 2rem;\\n  margin: 1rem;\\n  border-radius: 2rem;\\n  border: 2px solid var(--color-secondary);\\n  font-weight: bold;\\n  cursor: pointer;\\n  transition: all 0.3s ease-in-out;\\n  flex-shrink: 0;\\n  text-transform: uppercase;\\n  letter-spacing: 1px;\\n\\n  &:hover {\\n    background: var(--color-secondary);\\n    color: white;\\n  }\\n\\n  &:focus {\\n    outline: none;\\n  }\\n\"], [\"\\n  appearance: none;\\n  background: transparent;\\n  color: white;\\n  height: 2rem;\\n  margin: 1rem;\\n  border-radius: 2rem;\\n  border: 2px solid var(--color-secondary);\\n  font-weight: bold;\\n  cursor: pointer;\\n  transition: all 0.3s ease-in-out;\\n  flex-shrink: 0;\\n  text-transform: uppercase;\\n  letter-spacing: 1px;\\n\\n  &:hover {\\n    background: var(--color-secondary);\\n    color: white;\\n  }\\n\\n  &:focus {\\n    outline: none;\\n  }\\n\"])));\nvar templateObject_1;","var __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport React, { Component } from \"react\";\nimport AceEditor from \"react-ace\";\nimport \"brace/theme/monokai\";\nimport \"brace/mode/javascript\";\nimport { StyledButton } from \"./Button\";\nimport styled from \"styled-components\";\nvar StyledEditor = styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  height: 100%;\\n  width: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  padding: 1rem 0 0 1rem;\\n\"], [\"\\n  height: 100%;\\n  width: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  padding: 1rem 0 0 1rem;\\n\"])));\n\nvar Editor =\n/** @class */\nfunction (_super) {\n  __extends(Editor, _super);\n\n  function Editor() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      code: _this.props.code\n    };\n    return _this;\n  }\n\n  Editor.prototype.render = function () {\n    var _this = this;\n\n    var code = this.state.code;\n    var _a = this.props,\n        onChange = _a.onChange,\n        _b = _a.height,\n        height = _b === void 0 ? \"100%\" : _b,\n        _c = _a.changeText,\n        changeText = _c === void 0 ? \"Update\" : _c;\n    return React.createElement(StyledEditor, null, React.createElement(AceEditor, {\n      mode: \"javascript\",\n      theme: \"monokai\",\n      editorProps: {\n        $blockScrolling: true\n      },\n      value: code,\n      onChange: function onChange(value) {\n        return _this.setState({\n          code: value\n        });\n      },\n      setOptions: {\n        tabSize: 2,\n        fontSize: \"10px\"\n      },\n      width: \"100%\",\n      height: height,\n      showGutter: false,\n      readOnly: !onChange\n    }), onChange ? React.createElement(StyledButton, {\n      onClick: function onClick() {\n        return onChange(_this.state.code);\n      }\n    }, changeText) : null);\n  };\n\n  return Editor;\n}(Component);\n\nexport { Editor };\nvar templateObject_1;","export function isChildOf(childState, parentState) {\n  var marker = childState;\n\n  while (marker.parent && marker.parent !== parentState) {\n    marker = marker.parent;\n  }\n\n  return marker === parentState;\n}\nexport function flatten(array) {\n  var _a;\n\n  return (_a = []).concat.apply(_a, array);\n}\nexport function transitions(stateNode) {\n  return flatten(stateNode.ownEvents.map(function (event) {\n    return stateNode.definition.on[event];\n  }));\n}\nexport function condToString(cond) {\n  if (typeof cond === \"function\") {\n    return cond.toString(); // return cond\n    //   .toString()\n    //   .replace(/\\n/g, \"\")\n    //   .match(/\\{(.*)\\}/)![1]\n    //   .trim();\n  }\n\n  return cond;\n}\nexport function serializeEdge(edge) {\n  var cond = edge.cond ? \"[\" + edge.cond.toString().replace(/\\n/g, \"\") + \"]\" : \"\";\n  return edge.source.id + \":\" + edge.event + cond + \"->\" + edge.target.id;\n}\nexport function isHidden(el) {\n  if (!el) {\n    return true;\n  }\n\n  var rect = el.getBoundingClientRect();\n\n  if (rect.width === 0 && rect.height === 0) {\n    return true;\n  }\n\n  return false;\n}\nexport function relative(childRect, parentElement) {\n  var parentRect = parentElement.getBoundingClientRect();\n  return {\n    top: childRect.top - parentRect.top,\n    right: childRect.right - parentRect.left,\n    bottom: childRect.bottom - parentRect.top,\n    left: childRect.left - parentRect.left,\n    width: childRect.width,\n    height: childRect.height\n  };\n}\nexport function initialStateNodes(stateNode) {\n  var stateKeys = Object.keys(stateNode.states);\n  return stateNode.initialStateNodes.concat(flatten(stateKeys.map(function (key) {\n    var childStateNode = stateNode.states[key];\n\n    if (childStateNode.type === \"compound\" || childStateNode.type === \"parallel\") {\n      return initialStateNodes(stateNode.states[key]);\n    }\n\n    return [];\n  })));\n}\nexport function stateActions(stateNode) {\n  return stateNode.onEntry.concat(stateNode.onExit);\n}\nexport function center(rect) {\n  return {\n    x: rect.left + rect.width / 2,\n    y: rect.top + rect.height / 2\n  };\n}","var __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { interpret } from \"xstate/lib/interpreter\";\nimport { Machine } from \"xstate\";\nimport * as XState from \"xstate\";\nimport { getEdges } from \"xstate/lib/graph\";\nimport { StateChartNode } from \"./StateChartNode\";\nimport { serializeEdge, initialStateNodes } from \"./utils\";\nimport { Edge } from \"./Edge\";\nimport { Editor } from \"./Editor\";\nimport { InitialEdge } from \"./InitialEdge\";\nvar StyledViewTab = styled.li(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  padding: 0 1rem;\\n  border-bottom: 2px solid transparent;\\n  list-style: none;\\n  text-transform: uppercase;\\n  user-select: none;\\n  cursor: pointer;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n\\n  &:not([data-active]):hover {\\n    border-color: var(--color-secondary-light);\\n  }\\n\\n  &[data-active] {\\n    border-color: var(--color-secondary);\\n  }\\n\"], [\"\\n  padding: 0 1rem;\\n  border-bottom: 2px solid transparent;\\n  list-style: none;\\n  text-transform: uppercase;\\n  user-select: none;\\n  cursor: pointer;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n\\n  &:not([data-active]):hover {\\n    border-color: var(--color-secondary-light);\\n  }\\n\\n  &[data-active] {\\n    border-color: var(--color-secondary);\\n  }\\n\"])));\nvar StyledViewTabs = styled.ul(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  display: flex;\\n  width: 100%;\\n  height: 100%;\\n  flex-direction: row;\\n  justify-content: flex-start;\\n  align-items: stretch;\\n  margin: 0;\\n  padding: 0;\\n  flex-grow: 0;\\n  flex-shrink: 0;\\n\"], [\"\\n  display: flex;\\n  width: 100%;\\n  height: 100%;\\n  flex-direction: row;\\n  justify-content: flex-start;\\n  align-items: stretch;\\n  margin: 0;\\n  padding: 0;\\n  flex-grow: 0;\\n  flex-shrink: 0;\\n\"])));\nvar StyledSidebar = styled.div(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  background-color: var(--color-sidebar);\\n  color: white;\\n  overflow: hidden;\\n  display: grid;\\n  grid-template-columns: 1fr;\\n  grid-template-rows: 2rem 1fr;\\n  border-radius: 0.5rem\\n  box-shadow: 0 0.5rem 1rem rgba(0,0,0,0.2);\\n\"], [\"\\n  background-color: var(--color-sidebar);\\n  color: white;\\n  overflow: hidden;\\n  display: grid;\\n  grid-template-columns: 1fr;\\n  grid-template-rows: 2rem 1fr;\\n  border-radius: 0.5rem\\n  box-shadow: 0 0.5rem 1rem rgba(0,0,0,0.2);\\n\"])));\nvar StyledView = styled.div(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: flex-start;\\n  align-items: stretch;\\n  overflow: hidden;\\n\"], [\"\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: flex-start;\\n  align-items: stretch;\\n  overflow: hidden;\\n\"])));\nvar StyledStateChart = styled.div(templateObject_5 || (templateObject_5 = __makeTemplateObject([\"\\n  display: grid;\\n  grid-template-columns: 1fr 20rem;\\n  grid-template-rows: auto;\\n  font-family: sans-serif;\\n  font-size: 10px;\\n  overflow: hidden;\\n  max-height: inherit;\\n  padding: 1rem;\\n\\n  > * {\\n    max-height: inherit;\\n    overflow-y: scroll;\\n  }\\n\"], [\"\\n  display: grid;\\n  grid-template-columns: 1fr 20rem;\\n  grid-template-rows: auto;\\n  font-family: sans-serif;\\n  font-size: 10px;\\n  overflow: hidden;\\n  max-height: inherit;\\n  padding: 1rem;\\n\\n  > * {\\n    max-height: inherit;\\n    overflow-y: scroll;\\n  }\\n\"])));\nvar StyledField = styled.div(templateObject_6 || (templateObject_6 = __makeTemplateObject([\"\\n  padding: 0.5rem 1rem;\\n  width: 100%;\\n  overflow: hidden;\\n\\n  > label {\\n    text-transform: uppercase;\\n    display: block;\\n    margin-bottom: 0.5em;\\n    font-weight: bold;\\n  }\\n\"], [\"\\n  padding: 0.5rem 1rem;\\n  width: 100%;\\n  overflow: hidden;\\n\\n  > label {\\n    text-transform: uppercase;\\n    display: block;\\n    margin-bottom: 0.5em;\\n    font-weight: bold;\\n  }\\n\"])));\nvar StyledPre = styled.pre(templateObject_7 || (templateObject_7 = __makeTemplateObject([\"\\n  overflow: auto;\\n\"], [\"\\n  overflow: auto;\\n\"])));\n\nfunction Field(_a) {\n  var label = _a.label,\n      children = _a.children,\n      disabled = _a.disabled,\n      style = _a.style;\n  return React.createElement(StyledField, {\n    style: __assign({}, style, disabled ? {\n      opacity: 0.5\n    } : undefined)\n  }, React.createElement(\"label\", null, label), children);\n}\n\nfunction toMachine(machine) {\n  if (typeof machine !== \"string\") {\n    return machine;\n  }\n\n  var createMachine;\n\n  try {\n    createMachine = new Function(\"Machine\", \"interpret\", \"XState\", machine);\n  } catch (e) {\n    throw e;\n  }\n\n  var resultMachine;\n\n  var machineProxy = function machineProxy(config, options, ctx) {\n    resultMachine = Machine(config, options, ctx);\n    console.log(resultMachine);\n    return resultMachine;\n  };\n\n  createMachine(machineProxy, interpret, XState);\n  return resultMachine;\n}\n\nvar StyledVisualization = styled.div(templateObject_8 || (templateObject_8 = __makeTemplateObject([\"\\n  max-height: inherit;\\n  overflow-y: scroll;\\n\"], [\"\\n  max-height: inherit;\\n  overflow-y: scroll;\\n\"])));\nvar StyledStateViewActions = styled.ul(templateObject_9 || (templateObject_9 = __makeTemplateObject([\"\\n  margin: 0;\\n  padding: 0;\\n  list-style: none;\\n\"], [\"\\n  margin: 0;\\n  padding: 0;\\n  list-style: none;\\n\"])));\nvar StyledStateViewAction = styled.li(templateObject_10 || (templateObject_10 = __makeTemplateObject([\"\\n  white-space: nowrap;\\n  overflow-x: auto;\\n\"], [\"\\n  white-space: nowrap;\\n  overflow-x: auto;\\n\"])));\n\nvar StateChart =\n/** @class */\nfunction (_super) {\n  __extends(StateChart, _super);\n\n  function StateChart() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = function () {\n      var machine = toMachine(_this.props.machine); // const machine = this.props.machine;\n\n      return {\n        current: machine.initialState,\n        preview: undefined,\n        previewEvent: undefined,\n        view: \"definition\",\n        machine: machine,\n        code: typeof _this.props.machine === \"string\" ? _this.props.machine : \"Machine(\" + JSON.stringify(machine.config, null, 2) + \")\",\n        toggledStates: {},\n        service: interpret(machine, {}).onTransition(function (current) {\n          _this.setState({\n            current: current\n          }, function () {\n            if (_this.state.previewEvent) {\n              _this.setState({\n                preview: _this.state.service.nextState(_this.state.previewEvent)\n              });\n            }\n          });\n        })\n      };\n    }();\n\n    _this.svgRef = React.createRef();\n    return _this;\n  }\n\n  StateChart.prototype.componentDidMount = function () {\n    this.state.service.start();\n  };\n\n  StateChart.prototype.renderView = function () {\n    var _this = this;\n\n    var _a = this.state,\n        view = _a.view,\n        current = _a.current,\n        machine = _a.machine,\n        code = _a.code;\n\n    switch (view) {\n      case \"definition\":\n        return React.createElement(Editor, {\n          code: this.state.code,\n          onChange: function onChange(code) {\n            return _this.updateMachine(code);\n          }\n        });\n\n      case \"state\":\n        return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n          style: {\n            overflowY: \"auto\"\n          }\n        }, React.createElement(Field, {\n          label: \"Value\"\n        }, React.createElement(StyledPre, null, JSON.stringify(current.value, null, 2))), React.createElement(Field, {\n          label: \"Context\",\n          disabled: !current.context\n        }, current.context !== undefined ? React.createElement(StyledPre, null, JSON.stringify(current.context, null, 2)) : null), React.createElement(Field, {\n          label: \"Actions\",\n          disabled: !current.actions.length\n        }, !!current.actions.length && React.createElement(StyledPre, null, JSON.stringify(current.actions, null, 2)))), React.createElement(Field, {\n          label: \"Event\",\n          style: {\n            marginTop: \"auto\",\n            borderTop: \"1px solid #777\",\n            flexShrink: 0,\n            background: \"var(--color-sidebar)\"\n          }\n        }, React.createElement(Editor, {\n          height: \"5rem\",\n          code: '{type: \"\"}',\n          changeText: \"Send event\",\n          onChange: function onChange(code) {\n            try {\n              var eventData = eval(\"(\" + code + \")\");\n\n              _this.state.service.send(eventData);\n            } catch (e) {\n              console.error(e);\n              alert(\"Unable to send event.\\nCheck the console for more info.\");\n            }\n          }\n        })));\n\n      default:\n        return null;\n    }\n  };\n\n  StateChart.prototype.updateMachine = function (code) {\n    var _this = this;\n\n    var machine;\n\n    try {\n      machine = toMachine(code);\n    } catch (e) {\n      console.error(e);\n      alert(\"Error: unable to update the machine.\\nCheck the console for more info.\");\n      return;\n    }\n\n    this.state.service.stop();\n    this.setState({\n      code: code,\n      machine: machine,\n      current: machine.initialState\n    }, function () {\n      _this.setState({\n        service: interpret(_this.state.machine).onTransition(function (current) {\n          _this.setState({\n            current: current\n          }, function () {\n            if (_this.state.previewEvent) {\n              _this.setState({\n                preview: _this.state.service.nextState(_this.state.previewEvent)\n              });\n            }\n          });\n        }).start()\n      }, function () {\n        console.log(_this.state.service);\n      });\n    });\n  };\n\n  StateChart.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.state,\n        current = _a.current,\n        preview = _a.preview,\n        previewEvent = _a.previewEvent,\n        machine = _a.machine,\n        code = _a.code;\n    var edges = getEdges(machine);\n    var stateNodes = machine.getStateNodes(current);\n    var events = new Set();\n    stateNodes.forEach(function (stateNode) {\n      var potentialEvents = Object.keys(stateNode.on);\n      potentialEvents.forEach(function (event) {\n        var transitions = stateNode.on[event];\n        transitions.forEach(function (transition) {\n          if (transition.target !== undefined) {\n            events.add(event);\n          }\n        });\n      });\n    });\n    return React.createElement(StyledStateChart, {\n      key: code,\n      style: {\n        height: this.props.height || \"100%\",\n        background: \"var(--color-app-background)\",\n        // @ts-ignore\n        \"--color-app-background\": \"#FFF\",\n        \"--color-border\": \"#dedede\",\n        \"--color-primary\": \"rgba(87, 176, 234, 1)\",\n        \"--color-primary-faded\": \"rgba(87, 176, 234, 0.5)\",\n        \"--color-primary-shadow\": \"rgba(87, 176, 234, 0.1)\",\n        \"--color-link\": \"rgba(87, 176, 234, 1)\",\n        \"--color-disabled\": \"#c7c5c5\",\n        \"--color-edge\": \"rgba(0, 0, 0, 0.2)\",\n        \"--color-secondary\": \"rgba(255,152,0,1)\",\n        \"--color-secondary-light\": \"rgba(255,152,0,.5)\",\n        \"--color-sidebar\": \"#272722\",\n        \"--radius\": \"0.2rem\",\n        \"--border-width\": \"2px\"\n      }\n    }, React.createElement(StyledVisualization, null, React.createElement(StateChartNode, {\n      stateNode: this.state.machine,\n      current: current,\n      preview: preview,\n      onEvent: this.state.service.send.bind(this),\n      onPreEvent: function onPreEvent(event) {\n        return _this.setState({\n          preview: _this.state.service.nextState(event),\n          previewEvent: event\n        });\n      },\n      onExitPreEvent: function onExitPreEvent() {\n        return _this.setState({\n          preview: undefined,\n          previewEvent: undefined\n        });\n      },\n      toggledStates: this.state.toggledStates\n    }), React.createElement(\"svg\", {\n      width: \"100%\",\n      height: \"100%\",\n      style: {\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        // @ts-ignore\n        \"--color\": \"gray\",\n        overflow: \"visible\",\n        pointerEvents: \"none\"\n      },\n      ref: this.svgRef,\n      key: JSON.stringify(this.state.toggledStates)\n    }, React.createElement(\"defs\", null, React.createElement(\"marker\", {\n      id: \"marker\",\n      markerWidth: \"4\",\n      markerHeight: \"4\",\n      refX: \"2\",\n      refY: \"2\",\n      markerUnits: \"strokeWidth\",\n      orient: \"auto\"\n    }, React.createElement(\"path\", {\n      d: \"M0,0 L0,4 L4,2 z\",\n      fill: \"var(--color-edge)\"\n    })), React.createElement(\"marker\", {\n      id: \"marker-preview\",\n      markerWidth: \"4\",\n      markerHeight: \"4\",\n      refX: \"2\",\n      refY: \"2\",\n      markerUnits: \"strokeWidth\",\n      orient: \"auto\"\n    }, React.createElement(\"path\", {\n      d: \"M0,0 L0,4 L4,2 z\",\n      fill: \"gray\"\n    }))), edges.map(function (edge) {\n      if (!_this.svgRef.current) {\n        return;\n      } // const svgRect = this.svgRef.current.getBoundingClientRect();\n\n\n      return React.createElement(Edge, {\n        key: serializeEdge(edge),\n        svg: _this.svgRef.current,\n        edge: edge,\n        preview: edge.event === previewEvent && current.matches(edge.source.path.join(\".\")) && !!preview && preview.matches(edge.target.path.join(\".\"))\n      });\n    }), initialStateNodes(machine).map(function (initialStateNode) {\n      if (!_this.svgRef.current) {\n        return;\n      } // const svgRect = this.svgRef.current.getBoundingClientRect();\n\n\n      return React.createElement(InitialEdge, {\n        key: initialStateNode.id,\n        source: initialStateNode,\n        svgRef: _this.svgRef.current,\n        preview: current.matches(initialStateNode.path.join(\".\")) || !!preview && preview.matches(initialStateNode.path.join(\".\"))\n      });\n    }))), React.createElement(StyledSidebar, null, React.createElement(StyledViewTabs, null, [\"definition\", \"state\"].map(function (view) {\n      return React.createElement(StyledViewTab, {\n        onClick: function onClick() {\n          return _this.setState({\n            view: view\n          });\n        },\n        key: view,\n        \"data-active\": _this.state.view === view || undefined\n      }, view);\n    })), React.createElement(StyledView, null, this.renderView())));\n  };\n\n  return StateChart;\n}(React.Component);\n\nexport { StateChart };\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4, templateObject_5, templateObject_6, templateObject_7, templateObject_8, templateObject_9, templateObject_10;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { isHidden } from \"./utils\";\n\nvar Tracker =\n/** @class */\nfunction () {\n  function Tracker() {\n    var _this = this;\n\n    this.elements = new Map();\n\n    if (typeof window !== \"undefined\") {\n      window.addEventListener(\"resize\", function () {\n        _this.updateAll();\n      });\n    }\n  }\n\n  Tracker.prototype.updateAll = function () {\n    var _this = this;\n\n    Array.from(this.elements.keys()).forEach(function (key) {\n      _this.update(key, _this.elements.get(key).element);\n    });\n  };\n\n  Tracker.prototype.update = function (id, element) {\n    var _this = this;\n\n    if (!this.elements.get(id)) {\n      this.elements.set(id, {\n        listeners: new Set(),\n        element: element || undefined,\n        rect: element ? element.getBoundingClientRect() : undefined,\n        hidden: isHidden(element)\n      });\n    }\n\n    var data = __assign({}, this.elements.get(id), {\n      element: element || undefined,\n      rect: element ? element.getBoundingClientRect() : undefined,\n      hidden: isHidden(element)\n    });\n\n    this.notify(data);\n\n    if (element) {\n      var desc = element.querySelectorAll(\"[data-id]\");\n      Array.from(desc).forEach(function (el) {\n        var id = el.getAttribute(\"data-id\");\n\n        _this.update(id, el);\n      });\n    }\n  };\n\n  Tracker.prototype.listen = function (id, listener) {\n    if (!this.elements.get(id)) {\n      this.elements.set(id, {\n        listeners: new Set(),\n        element: undefined,\n        rect: undefined,\n        hidden: true\n      });\n    }\n\n    var data = this.elements.get(id);\n    data.listeners.add(listener);\n    this.notify(data);\n  };\n\n  Tracker.prototype.get = function (id) {\n    if (this.elements.get(id)) {\n      return this.elements.get(id);\n    }\n\n    return undefined;\n  };\n\n  Tracker.prototype.notify = function (data) {\n    data.listeners.forEach(function (listener) {\n      listener(data);\n    });\n  };\n\n  return Tracker;\n}();\n\nvar tracker = new Tracker();\nexport { tracker };","var __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { condToString, serializeEdge, stateActions } from \"./utils\";\nimport { tracker } from \"./tracker\";\nimport { getEdges } from \"xstate/lib/graph\";\nvar StyledChildStates = styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  padding-top: 0.5rem;\\n  border-top: 1px solid var(--color-border);\\n  display: flex;\\n  padding-bottom: 1rem;\\n  flex-direction: row;\\n  flex-wrap: wrap;\\n  align-items: flex-start;\\n  min-height: 1rem;\\n\"], [\"\\n  padding-top: 0.5rem;\\n  border-top: 1px solid var(--color-border);\\n  display: flex;\\n  padding-bottom: 1rem;\\n  flex-direction: row;\\n  flex-wrap: wrap;\\n  align-items: flex-start;\\n  min-height: 1rem;\\n\"])));\nvar StyledChildStatesToggle = styled.button(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  appearance: none;\\n  display: inline-flex;\\n  height: 1rem;\\n  width: 1rem;\\n  justify-content: center;\\n  align-items: center;\\n  background: transparent;\\n  border: none;\\n  padding: 0;\\n  cursor: pointer;\\n\\n  &:not(:hover) {\\n    opacity: 0.5;\\n  }\\n\\n  &:before {\\n    --dot-size: 3px;\\n    content: \\\"\\\";\\n    display: block;\\n    height: var(--dot-size);\\n    width: var(--dot-size);\\n    border-radius: 50%;\\n    background: var(--toggle-color, gray);\\n    flex-shrink: 0;\\n    box-shadow: calc(-1 * (var(--dot-size) + 1px)) 0 var(--toggle-color, gray),\\n      calc(var(--dot-size) + 1px) 0 var(--toggle-color, gray);\\n  }\\n\\n  &:focus {\\n    outline: none;\\n  }\\n\"], [\"\\n  appearance: none;\\n  display: inline-flex;\\n  height: 1rem;\\n  width: 1rem;\\n  justify-content: center;\\n  align-items: center;\\n  background: transparent;\\n  border: none;\\n  padding: 0;\\n  cursor: pointer;\\n\\n  &:not(:hover) {\\n    opacity: 0.5;\\n  }\\n\\n  &:before {\\n    --dot-size: 3px;\\n    content: \\\"\\\";\\n    display: block;\\n    height: var(--dot-size);\\n    width: var(--dot-size);\\n    border-radius: 50%;\\n    background: var(--toggle-color, gray);\\n    flex-shrink: 0;\\n    box-shadow: calc(-1 * (var(--dot-size) + 1px)) 0 var(--toggle-color, gray),\\n      calc(var(--dot-size) + 1px) 0 var(--toggle-color, gray);\\n  }\\n\\n  &:focus {\\n    outline: none;\\n  }\\n\"])));\nvar StyledStateNodeHeader = styled.header(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  position: absolute;\\n  z-index: 1;\\n  padding: 0.25rem 0;\\n  bottom: calc(100% + var(--border-width, 0));\\n  left: calc(-1 * var(--border-width));\\n\\n  &:before {\\n    display: none;\\n    content: \\\"\\\";\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    height: 100%;\\n    width: 100%;\\n    background: var(--color-app-background);\\n  }\\n\\n  &[data-type-symbol=\\\"history\\\" i] {\\n    --symbol-color: orange;\\n  }\\n\\n  &[data-type-symbol] {\\n    padding-right: 5em;\\n\\n    &:after {\\n      content: attr(data-type-symbol);\\n      position: absolute;\\n      top: 0;\\n      right: 0;\\n      border-bottom-left-radius: 0.25rem;\\n      background: var(--symbol-color, gray);\\n      color: white;\\n      padding: 0.25rem 0.5rem;\\n      font-weight: bold;\\n      font-size: 0.75em;\\n    }\\n  }\\n\"], [\"\\n  position: absolute;\\n  z-index: 1;\\n  padding: 0.25rem 0;\\n  bottom: calc(100% + var(--border-width, 0));\\n  left: calc(-1 * var(--border-width));\\n\\n  &:before {\\n    display: none;\\n    content: \\\"\\\";\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    height: 100%;\\n    width: 100%;\\n    background: var(--color-app-background);\\n  }\\n\\n  &[data-type-symbol=\\\"history\\\" i] {\\n    --symbol-color: orange;\\n  }\\n\\n  &[data-type-symbol] {\\n    padding-right: 5em;\\n\\n    &:after {\\n      content: attr(data-type-symbol);\\n      position: absolute;\\n      top: 0;\\n      right: 0;\\n      border-bottom-left-radius: 0.25rem;\\n      background: var(--symbol-color, gray);\\n      color: white;\\n      padding: 0.25rem 0.5rem;\\n      font-weight: bold;\\n      font-size: 0.75em;\\n    }\\n  }\\n\"])));\nvar StyledStateNode = styled.div(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n  --color-shadow: rgba(0, 0, 0, 0.05);\\n  --color-node-border: var(--color-border);\\n  display: inline-block;\\n  border-radius: 0.25rem;\\n  text-align: left;\\n  border: 2px solid var(--color-node-border);\\n  margin: 1rem;\\n  flex-grow: 0;\\n  flex-shrink: 1;\\n  box-shadow: 0 0.5rem 1rem var(--color-shadow);\\n  background: white;\\n  color: #313131;\\n  min-height: 1rem;\\n\\n  &[data-type~=\\\"machine\\\"] {\\n    border: none;\\n    box-shadow: none;\\n    width: 100%;\\n    background: none;\\n    margin: 2rem 0;\\n\\n    > \", \" {\\n      left: 1rem;\\n      font-size: 1rem;\\n    }\\n\\n    > ul {\\n      padding-right: 1.5rem;\\n    }\\n  }\\n  &:not([data-type~=\\\"machine\\\"]) {\\n    // opacity: 0.75;\\n  }\\n\\n  &:not([data-open=\\\"true\\\"]) > \", \" > * {\\n    display: none;\\n  }\\n\\n  \", \" {\\n    position: absolute;\\n    bottom: 0;\\n    right: 0;\\n  }\\n\\n  &[data-type~=\\\"machine\\\"] > \", \" {\\n    display: none;\\n  }\\n\\n  &[data-active] {\\n    --color-node-border: var(--color-primary);\\n    --color-shadow: var(--color-primary-shadow);\\n    opacity: 1;\\n\\n    > \", \" {\\n      color: var(--color-primary);\\n    }\\n\\n    > \", \" {\\n      --toggle-color: var(--color-primary);\\n    }\\n  }\\n\\n  &[data-preview]:not([data-active]) {\\n    --color-node-border: var(--color-primary-faded);\\n  }\\n\\n  &[data-type~=\\\"parallel\\\"]\\n    > \", \"\\n    > *:not(\", \") {\\n    border-style: dashed;\\n  }\\n\\n  &[data-type~=\\\"final\\\"] {\\n    &:after {\\n      content: \\\"\\\";\\n      position: absolute;\\n      top: -5px;\\n      left: -5px;\\n      width: calc(100% + 10px);\\n      height: calc(100% + 10px);\\n      border: 2px solid var(--color-node-border);\\n      pointer-events: none;\\n      border-radius: 6px;\\n      z-index: 1;\\n    }\\n  }\\n\\n  &:before {\\n    content: attr(data-key);\\n    color: transparent;\\n    visibility: hidden;\\n    height: 1px;\\n    display: block;\\n  }\\n\"], [\"\\n  --color-shadow: rgba(0, 0, 0, 0.05);\\n  --color-node-border: var(--color-border);\\n  display: inline-block;\\n  border-radius: 0.25rem;\\n  text-align: left;\\n  border: 2px solid var(--color-node-border);\\n  margin: 1rem;\\n  flex-grow: 0;\\n  flex-shrink: 1;\\n  box-shadow: 0 0.5rem 1rem var(--color-shadow);\\n  background: white;\\n  color: #313131;\\n  min-height: 1rem;\\n\\n  &[data-type~=\\\"machine\\\"] {\\n    border: none;\\n    box-shadow: none;\\n    width: 100%;\\n    background: none;\\n    margin: 2rem 0;\\n\\n    > \", \" {\\n      left: 1rem;\\n      font-size: 1rem;\\n    }\\n\\n    > ul {\\n      padding-right: 1.5rem;\\n    }\\n  }\\n  &:not([data-type~=\\\"machine\\\"]) {\\n    // opacity: 0.75;\\n  }\\n\\n  &:not([data-open=\\\"true\\\"]) > \", \" > * {\\n    display: none;\\n  }\\n\\n  \", \" {\\n    position: absolute;\\n    bottom: 0;\\n    right: 0;\\n  }\\n\\n  &[data-type~=\\\"machine\\\"] > \", \" {\\n    display: none;\\n  }\\n\\n  &[data-active] {\\n    --color-node-border: var(--color-primary);\\n    --color-shadow: var(--color-primary-shadow);\\n    opacity: 1;\\n\\n    > \", \" {\\n      color: var(--color-primary);\\n    }\\n\\n    > \", \" {\\n      --toggle-color: var(--color-primary);\\n    }\\n  }\\n\\n  &[data-preview]:not([data-active]) {\\n    --color-node-border: var(--color-primary-faded);\\n  }\\n\\n  &[data-type~=\\\"parallel\\\"]\\n    > \", \"\\n    > *:not(\", \") {\\n    border-style: dashed;\\n  }\\n\\n  &[data-type~=\\\"final\\\"] {\\n    &:after {\\n      content: \\\"\\\";\\n      position: absolute;\\n      top: -5px;\\n      left: -5px;\\n      width: calc(100% + 10px);\\n      height: calc(100% + 10px);\\n      border: 2px solid var(--color-node-border);\\n      pointer-events: none;\\n      border-radius: 6px;\\n      z-index: 1;\\n    }\\n  }\\n\\n  &:before {\\n    content: attr(data-key);\\n    color: transparent;\\n    visibility: hidden;\\n    height: 1px;\\n    display: block;\\n  }\\n\"])), StyledStateNodeHeader, StyledChildStates, StyledChildStatesToggle, StyledChildStatesToggle, StyledStateNodeHeader, StyledChildStatesToggle, StyledChildStates, StyledChildStatesToggle);\nvar StyledEvents = styled.ul(templateObject_5 || (templateObject_5 = __makeTemplateObject([\"\\n  padding: 0;\\n  margin: 0.5rem 0;\\n  list-style: none;\\n\\n  &:empty {\\n    display: none;\\n  }\\n\"], [\"\\n  padding: 0;\\n  margin: 0.5rem 0;\\n  list-style: none;\\n\\n  &:empty {\\n    display: none;\\n  }\\n\"])));\nvar StyledStateNodeActions = styled.ul(templateObject_6 || (templateObject_6 = __makeTemplateObject([\"\\n  list-style: none;\\n  padding: 0;\\n  margin: 0;\\n  margin-bottom: 0.5rem;\\n\"], [\"\\n  list-style: none;\\n  padding: 0;\\n  margin: 0;\\n  margin-bottom: 0.5rem;\\n\"])));\nvar StyledEvent = styled.li(templateObject_7 || (templateObject_7 = __makeTemplateObject([\"\\n  list-style: none;\\n  margin: 0;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: flex-end;\\n  align-items: flex-end;\\n\\n  &:not(:last-child) {\\n    margin-bottom: 0.25rem;\\n  }\\n\\n  &[data-disabled] > \", \" {\\n    opacity: 0.7;\\n  }\\n\"], [\"\\n  list-style: none;\\n  margin: 0;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: flex-end;\\n  align-items: flex-end;\\n\\n  &:not(:last-child) {\\n    margin-bottom: 0.25rem;\\n  }\\n\\n  &[data-disabled] > \", \" {\\n    opacity: 0.7;\\n  }\\n\"])), StyledStateNodeActions);\nvar StyledEventButton = styled.button(templateObject_8 || (templateObject_8 = __makeTemplateObject([\"\\n  --color-event: var(--color-primary);\\n  appearance: none;\\n  background-color: var(--color-event);\\n  border: none;\\n  color: white;\\n  font-size: 0.75em;\\n  font-weight: bold;\\n  padding: 0.25rem 0.25rem 0.25rem 0.5rem;\\n  cursor: pointer;\\n  border-radius: 2rem;\\n  line-height: 1;\\n  display: inline-flex;\\n  flex-direction: row;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-right: -0.5rem;\\n  margin-left: 0.5rem;\\n  text-shadow: 0 1px 1px rgba(0, 0, 0, 0.2);\\n  overflow: hidden;\\n\\n  &:not(:disabled):not([data-builtin]):hover {\\n    --color-event: var(--color-primary);\\n  }\\n\\n  &:disabled {\\n    cursor: not-allowed;\\n    --color-event: var(--color-disabled);\\n  }\\n\\n  &:focus {\\n    outline: none;\\n  }\\n\\n  // duration\\n  &[data-delay]:not([disabled]) {\\n    &:before {\\n      content: \\\"\\\";\\n      position: absolute;\\n      top: 0;\\n      left: 0;\\n      width: 100%;\\n      height: 100%;\\n      background-color: var(--color-event);\\n      animation: move-left calc(var(--delay) * 1ms) linear;\\n      z-index: 0;\\n      opacity: 0.5;\\n    }\\n  }\\n\\n  @keyframes move-left {\\n    from {\\n      transform: translateX(-100%);\\n    }\\n    to {\\n      transform: none;\\n    }\\n  }\\n\\n  &[data-builtin] {\\n    background-color: transparent;\\n    color: black;\\n    font-style: italic;\\n  }\\n\"], [\"\\n  --color-event: var(--color-primary);\\n  appearance: none;\\n  background-color: var(--color-event);\\n  border: none;\\n  color: white;\\n  font-size: 0.75em;\\n  font-weight: bold;\\n  padding: 0.25rem 0.25rem 0.25rem 0.5rem;\\n  cursor: pointer;\\n  border-radius: 2rem;\\n  line-height: 1;\\n  display: inline-flex;\\n  flex-direction: row;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-right: -0.5rem;\\n  margin-left: 0.5rem;\\n  text-shadow: 0 1px 1px rgba(0, 0, 0, 0.2);\\n  overflow: hidden;\\n\\n  &:not(:disabled):not([data-builtin]):hover {\\n    --color-event: var(--color-primary);\\n  }\\n\\n  &:disabled {\\n    cursor: not-allowed;\\n    --color-event: var(--color-disabled);\\n  }\\n\\n  &:focus {\\n    outline: none;\\n  }\\n\\n  // duration\\n  &[data-delay]:not([disabled]) {\\n    &:before {\\n      content: \\\"\\\";\\n      position: absolute;\\n      top: 0;\\n      left: 0;\\n      width: 100%;\\n      height: 100%;\\n      background-color: var(--color-event);\\n      animation: move-left calc(var(--delay) * 1ms) linear;\\n      z-index: 0;\\n      opacity: 0.5;\\n    }\\n  }\\n\\n  @keyframes move-left {\\n    from {\\n      transform: translateX(-100%);\\n    }\\n    to {\\n      transform: none;\\n    }\\n  }\\n\\n  &[data-builtin] {\\n    background-color: transparent;\\n    color: black;\\n    font-style: italic;\\n  }\\n\"])));\nvar StyledStateNodeAction = styled.li(templateObject_9 || (templateObject_9 = __makeTemplateObject([\"\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  height: 1rem;\\n  list-style: none;\\n  padding: 0 0.5rem;\\n  margin: 0;\\n\\n  &:before {\\n    content: attr(data-action-type) \\\" / \\\";\\n    margin-right: 0.5ch;\\n    font-weight: bold;\\n  }\\n\"], [\"\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  height: 1rem;\\n  list-style: none;\\n  padding: 0 0.5rem;\\n  margin: 0;\\n\\n  &:before {\\n    content: attr(data-action-type) \\\" / \\\";\\n    margin-right: 0.5ch;\\n    font-weight: bold;\\n  }\\n\"])));\nvar StyledEventDot = styled.div(templateObject_10 || (templateObject_10 = __makeTemplateObject([\"\\n  display: inline-block;\\n  height: 0.5rem;\\n  width: 0.5rem;\\n  border-radius: 50%;\\n  background-color: white;\\n  margin-left: 0.5rem;\\n\\n  &:before {\\n    content: \\\"\\\";\\n    position: absolute;\\n    top: -0.25rem;\\n    left: -0.25rem;\\n    width: calc(100% + 0.5rem);\\n    height: calc(100% + 0.5rem);\\n    border-radius: 50%;\\n    background-color: var(--color-event);\\n  }\\n\\n  &:after {\\n    content: \\\"\\\";\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    width: 100%;\\n    height: 100%;\\n    border-radius: 50%;\\n    background-color: white;\\n  }\\n\"], [\"\\n  display: inline-block;\\n  height: 0.5rem;\\n  width: 0.5rem;\\n  border-radius: 50%;\\n  background-color: white;\\n  margin-left: 0.5rem;\\n\\n  &:before {\\n    content: \\\"\\\";\\n    position: absolute;\\n    top: -0.25rem;\\n    left: -0.25rem;\\n    width: calc(100% + 0.5rem);\\n    height: calc(100% + 0.5rem);\\n    border-radius: 50%;\\n    background-color: var(--color-event);\\n  }\\n\\n  &:after {\\n    content: \\\"\\\";\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    width: 100%;\\n    height: 100%;\\n    border-radius: 50%;\\n    background-color: white;\\n  }\\n\"])));\n\nfunction friendlyEventName(event) {\n  var match = event.match(/^xstate\\.after\\((\\d+)\\)/);\n\n  if (match) {\n    return \"after \" + match[1] + \"ms\";\n  }\n\n  match = event.match(/^done\\.state/);\n\n  if (match) {\n    return \"done\";\n  }\n\n  if (event === \"\") {\n    return \"transient\";\n  }\n\n  return event;\n}\n\nvar StateChartNode =\n/** @class */\nfunction (_super) {\n  __extends(StateChartNode, _super);\n\n  function StateChartNode() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      toggled: true\n    };\n    _this.stateRef = React.createRef();\n    return _this;\n  }\n\n  StateChartNode.prototype.componentDidUpdate = function () {\n    tracker.update(this.props.stateNode.id, this.stateRef.current);\n  };\n\n  StateChartNode.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        stateNode = _a.stateNode,\n        current = _a.current,\n        preview = _a.preview,\n        onEvent = _a.onEvent,\n        onPreEvent = _a.onPreEvent,\n        onExitPreEvent = _a.onExitPreEvent;\n    var isActive = current.matches(stateNode.path.join(\".\")) || undefined;\n    var isPreview = preview ? preview.matches(stateNode.path.join(\".\")) || undefined : undefined;\n    var dataType = stateNode.parent ? stateNode.type : \"machine \" + stateNode.type;\n    return React.createElement(StyledStateNode, {\n      key: stateNode.id,\n      \"data-key\": stateNode.key,\n      \"data-id\": stateNode.id,\n      \"data-type\": dataType,\n      \"data-active\": isActive && stateNode.parent,\n      \"data-preview\": isPreview && stateNode.parent,\n      \"data-open\": this.state.toggled || undefined,\n      ref: this.stateRef\n    }, React.createElement(StyledStateNodeHeader, {\n      style: {\n        // @ts-ignore\n        \"--depth\": stateNode.path.length\n      }\n    }, React.createElement(\"strong\", null, stateNode.key)), !!stateActions(stateNode).length && React.createElement(StyledStateNodeActions, null, stateNode.definition.onEntry.map(function (action) {\n      var actionString = action.type;\n      return React.createElement(StyledStateNodeAction, {\n        key: actionString,\n        \"data-action-type\": \"entry\"\n      }, actionString);\n    }), stateNode.definition.onExit.map(function (action) {\n      var actionString = action.type;\n      return React.createElement(StyledStateNodeAction, {\n        key: actionString,\n        \"data-action-type\": \"exit\"\n      }, actionString);\n    })), React.createElement(StyledEvents, null, getEdges(stateNode, {\n      depth: 0\n    }).map(function (edge) {\n      var ownEvent = edge.event;\n      var isBuiltInEvent = ownEvent.indexOf(\"xstate.\") === 0 || ownEvent.indexOf(\"done.\") === 0 || ownEvent === \"\";\n      var disabled = !isActive || current.nextEvents.indexOf(ownEvent) === -1 || !!edge.cond && typeof edge.cond === \"function\" && !edge.cond(current.context, {\n        type: ownEvent\n      }, {});\n      var cond = edge.cond ? \"[\" + edge.cond.toString().replace(/\\n/g, \"\") + \"]\" : \"\";\n      return React.createElement(StyledEvent, {\n        style: {\n          //@ts-ignore\n          \"--delay\": edge.transition.delay\n        },\n        \"data-disabled\": disabled || undefined,\n        key: serializeEdge(edge)\n      }, React.createElement(StyledEventButton, {\n        onClick: function onClick() {\n          return !isBuiltInEvent ? onEvent(ownEvent) : undefined;\n        },\n        onMouseOver: function onMouseOver() {\n          return onPreEvent(ownEvent);\n        },\n        onMouseOut: function onMouseOut() {\n          return onExitPreEvent();\n        },\n        disabled: disabled,\n        \"data-delay\": edge.transition.delay,\n        \"data-builtin\": isBuiltInEvent || undefined,\n        \"data-id\": serializeEdge(edge),\n        title: ownEvent\n      }, React.createElement(\"span\", null, friendlyEventName(ownEvent)), React.createElement(StyledEventDot, null)), edge.transition.cond && React.createElement(\"div\", null, condToString(edge.transition.cond)), !!edge.transition.actions.length && React.createElement(StyledStateNodeActions, null, edge.transition.actions.map(function (action, i) {\n        var actionString = action.type;\n        return React.createElement(StyledStateNodeAction, {\n          \"data-action-type\": \"do\",\n          key: actionString + \":\" + i\n        }, actionString);\n      })));\n    })), Object.keys(stateNode.states).length ? React.createElement(StyledChildStates, null, Object.keys(stateNode.states || []).map(function (key) {\n      var childStateNode = stateNode.states[key];\n      return React.createElement(StateChartNode, {\n        stateNode: childStateNode,\n        current: current,\n        preview: preview,\n        key: childStateNode.id,\n        onEvent: onEvent,\n        onPreEvent: onPreEvent,\n        onExitPreEvent: onExitPreEvent,\n        toggledStates: _this.props.toggledStates\n      });\n    })) : null, Object.keys(stateNode.states).length > 0 ? React.createElement(StyledChildStatesToggle, {\n      title: this.state.toggled ? \"Hide children\" : \"Show children\",\n      onClick: function onClick(e) {\n        e.stopPropagation();\n\n        _this.setState({\n          toggled: !_this.state.toggled\n        }, function () {\n          tracker.updateAll();\n        });\n      }\n    }) : null);\n  };\n\n  return StateChartNode;\n}(React.Component);\n\nexport { StateChartNode };\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4, templateObject_5, templateObject_6, templateObject_7, templateObject_8, templateObject_9, templateObject_10;","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport React, { Component } from \"react\";\nimport { serializeEdge, isHidden, relative, center } from \"./utils\";\nimport { tracker } from \"./tracker\";\n\nfunction maybeGet(value, getter) {\n  return value ? getter(value) : undefined;\n}\n\nvar Edge =\n/** @class */\nfunction (_super) {\n  __extends(Edge, _super);\n\n  function Edge() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      eventElement: null,\n      sourceElement: null,\n      targetElement: null,\n      sourceData: tracker.get(_this.props.edge.source.id),\n      targetData: tracker.get(_this.props.edge.target.id),\n      eventData: tracker.get(serializeEdge(_this.props.edge))\n    };\n    _this.ref = React.createRef();\n    return _this;\n  }\n\n  Edge.prototype.componentDidMount = function () {\n    var _this = this;\n\n    var edge = this.props.edge;\n    var eventId = serializeEdge(edge);\n    tracker.listen(eventId, function (data) {\n      _this.setState({\n        eventData: data\n      });\n    });\n    tracker.listen(edge.source.id, function (data) {\n      _this.setState({\n        sourceData: data\n      });\n    });\n    tracker.listen(edge.target.id, function (data) {\n      var target = edge.target;\n      var parentData = data;\n\n      while (isHidden(parentData.element)) {\n        if (!target.parent) {\n          break;\n        }\n\n        target = target.parent;\n        parentData = tracker.get(target.id);\n\n        if (!parentData) {\n          break;\n        }\n      }\n\n      _this.setState({\n        targetData: parentData || undefined\n      });\n    });\n  };\n\n  Edge.prototype.render = function () {\n    var edge = this.props.edge;\n    var _a = this.state,\n        sourceData = _a.sourceData,\n        eventData = _a.eventData,\n        targetData = _a.targetData;\n\n    if (!sourceData || sourceData.hidden || !eventData || eventData.hidden || !targetData || targetData.hidden) {\n      return null;\n    }\n\n    var strokeWidth = 2;\n    var svgRef = this.props.svg; // const sourceRect = relative(\n    //   elSource.getBoundingClientRect(),\n    //   svgRef.getBoundingClientRect()\n    // );\n\n    var eventRect = relative(this.state.eventData.rect, svgRef);\n    var targetRect = relative(this.state.targetData.rect, svgRef);\n    var eventCenterPt = center(eventRect);\n    var targetCenterPt = center(targetRect);\n    var start = {\n      x: eventRect.right - 4,\n      y: eventCenterPt.y\n    };\n    var end = {\n      x: 0,\n      y: 0\n    };\n    var m = (targetCenterPt.y - eventCenterPt.y) / (targetCenterPt.x - eventCenterPt.x);\n    var b = eventCenterPt.y - m * eventCenterPt.x;\n    var endSide;\n    var bezierPad = 10;\n\n    if (edge.source === edge.target) {\n      endSide = \"right\";\n      end.y = start.y + 10;\n      end.x = start.x;\n    } else {\n      if (eventCenterPt.x <= targetCenterPt.x) {\n        if (m * targetRect.left + b < targetRect.top) {\n          end.y = targetRect.top;\n          end.x = (end.y - b) / m;\n          endSide = \"top\";\n        } else if (m * targetRect.left + b > targetRect.bottom) {\n          end.y = targetRect.bottom;\n          end.x = (end.y - b) / m;\n          endSide = \"bottom\";\n        } else {\n          end.x = targetRect.left;\n          end.y = m * end.x + b;\n          endSide = \"left\";\n        }\n      } else {\n        if (m * targetRect.right + b < targetRect.top) {\n          end.y = targetRect.top;\n          end.x = (end.y - b) / m;\n          endSide = \"top\";\n        } else if (m * targetRect.right + b > targetRect.bottom) {\n          end.y = targetRect.bottom;\n          end.x = (end.y - b) / m;\n          endSide = \"bottom\";\n        } else {\n          end.x = targetRect.right - bezierPad;\n\n          if (eventCenterPt.y > targetCenterPt.y) {\n            end.y = targetRect.bottom;\n            endSide = \"bottom\";\n          } else {\n            end.y = targetRect.top;\n            endSide = \"top\";\n          }\n        }\n      }\n    }\n\n    switch (endSide) {\n      case \"bottom\":\n        end.y += 4;\n        break;\n\n      case \"top\":\n        end.y -= 4;\n        break;\n\n      case \"left\":\n        end.x -= 4;\n        break;\n\n      case \"right\":\n        end.x += 4;\n        break;\n    }\n\n    var dx = end.x - start.x;\n    var dy = end.y - start.y;\n\n    var preEnd = __assign({}, end);\n\n    var postStart = {\n      x: start.x + bezierPad,\n      y: Math.abs(dy) > bezierPad ? start.x > end.x ? dy > 0 ? start.y + bezierPad : start.y - bezierPad : start.y + bezierPad : start.y\n    };\n    var points = [start, postStart];\n\n    if (endSide === \"top\") {\n      preEnd.y = preEnd.y - bezierPad;\n    } else if (endSide === \"bottom\") {\n      preEnd.y = preEnd.y + bezierPad;\n    } else if (endSide === \"left\") {\n      preEnd.y = end.y;\n      preEnd.x = end.x - bezierPad;\n    } else if (endSide === \"right\") {\n      preEnd.y = end.y;\n      preEnd.x = end.x + bezierPad;\n    }\n\n    points.push(preEnd);\n    points.push(end);\n    var path = points.reduce(function (acc, point, i) {\n      if (i === 0) {\n        return \"M \" + point.x + \",\" + point.y;\n      }\n\n      if (i === points.length - 1) {\n        return acc + (\" L \" + point.x + \",\" + point.y);\n      }\n\n      var prevPoint = points[i - 1];\n      var nextPoint = points[i + 1];\n\n      if (prevPoint.x === point.x || prevPoint.y === point.y) {\n        return acc + (\" L \" + point.x + \",\" + point.y);\n      } // return acc + ` L ${point.x},${point.y}`;\n\n\n      var dx = point.x - prevPoint.x;\n      var dy = point.y - prevPoint.y;\n      var nextDx = nextPoint.x - point.x;\n      var nextDy = nextPoint.y - point.y;\n      var midpoint1 = {\n        x: prevPoint.x + dx / 2,\n        y: prevPoint.y + dy / 2\n      };\n      var midpoint2 = {\n        x: point.x + nextDx / 2,\n        y: point.y + nextDy / 2\n      };\n      return acc + (\" Q \" + point.x + \",\" + point.y + \" \" + midpoint2.x + \",\" + midpoint2.y);\n    }, \"\");\n    var isHighlighted = this.props.preview;\n    return React.createElement(\"g\", null, React.createElement(\"path\", {\n      d: path,\n      stroke: isHighlighted ? \"gray\" : \"var(--color-edge)\",\n      strokeWidth: strokeWidth,\n      fill: \"none\",\n      markerEnd: isHighlighted ? \"url(#marker-preview)\" : \"url(#marker)\",\n      ref: this.ref\n    }));\n  };\n\n  return Edge;\n}(Component);\n\nexport { Edge };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport React from \"react\";\nimport { tracker } from \"./tracker\";\nimport { relative } from \"./utils\";\n\nvar InitialEdge =\n/** @class */\nfunction (_super) {\n  __extends(InitialEdge, _super);\n\n  function InitialEdge() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      sourceElement: undefined\n    };\n    return _this;\n  }\n\n  InitialEdge.prototype.componentDidMount = function () {\n    var _this = this;\n\n    var id = this.props.source.id;\n    tracker.listen(id, function (data) {\n      _this.setState({\n        sourceElement: data.element\n      });\n    });\n  };\n\n  InitialEdge.prototype.render = function () {\n    var _a = this.props,\n        svgRef = _a.svgRef,\n        preview = _a.preview;\n\n    if (!this.state.sourceElement) {\n      return null;\n    }\n\n    var rect = relative(this.state.sourceElement.getBoundingClientRect(), svgRef);\n    var top = rect.top,\n        left = rect.left;\n    var stroke = preview ? \"gray\" : \"var(--color-edge)\";\n    return React.createElement(\"g\", null, React.createElement(\"circle\", {\n      r: \"4\",\n      cx: left - 10,\n      cy: top,\n      fill: stroke\n    }), React.createElement(\"path\", {\n      d: \"M \" + (left - 10) + \",\" + top + \" Q \" + (left - 10) + \",\" + (top + 10) + \" \" + (left - 1) + \",\" + (top + 10) + \" L \" + left + \",\" + (top + 10),\n      stroke: stroke,\n      strokeWidth: \"2\",\n      fill: \"none\",\n      markerEnd: preview ? \"url(#marker-preview)\" : \"url(#marker)\"\n    }));\n  };\n\n  return InitialEdge;\n}(React.Component);\n\nexport { InitialEdge };","export var STATE_DELIMITER = '.';\nexport var EMPTY_ACTIVITY_MAP = {};","var __values = this && this.__values || function (o) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator],\n      i = 0;\n  if (m) return m.call(o);\n  return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n};\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar __spread = this && this.__spread || function () {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(__read(arguments[i]));\n  }\n\n  return ar;\n};\n\nimport { STATE_DELIMITER } from './constants';\n\nfunction isState(state) {\n  if (typeof state === 'string') {\n    return false;\n  }\n\n  return 'value' in state && 'tree' in state && 'history' in state;\n}\n\nexport function keys(value) {\n  return Object.keys(value);\n}\nexport function matchesState(parentStateId, childStateId, delimiter) {\n  if (delimiter === void 0) {\n    delimiter = STATE_DELIMITER;\n  }\n\n  var parentStateValue = toStateValue(parentStateId, delimiter);\n  var childStateValue = toStateValue(childStateId, delimiter);\n\n  if (typeof childStateValue === 'string') {\n    if (typeof parentStateValue === 'string') {\n      return childStateValue === parentStateValue;\n    } // Parent more specific than child\n\n\n    return false;\n  }\n\n  if (typeof parentStateValue === 'string') {\n    return parentStateValue in childStateValue;\n  }\n\n  return keys(parentStateValue).every(function (key) {\n    if (!(key in childStateValue)) {\n      return false;\n    }\n\n    return matchesState(parentStateValue[key], childStateValue[key]);\n  });\n}\nexport function getEventType(event) {\n  try {\n    return typeof event === 'string' || typeof event === 'number' ? \"\" + event : event.type;\n  } catch (e) {\n    throw new Error('Events must be strings or objects with a string event.type property.');\n  }\n}\nexport function getActionType(action) {\n  try {\n    return typeof action === 'string' || typeof action === 'number' ? \"\" + action : typeof action === 'function' ? action.name : action.type;\n  } catch (e) {\n    throw new Error('Actions must be strings or objects with a string action.type property.');\n  }\n}\nexport function toStatePath(stateId, delimiter) {\n  try {\n    if (Array.isArray(stateId)) {\n      return stateId;\n    }\n\n    return stateId.toString().split(delimiter);\n  } catch (e) {\n    throw new Error(\"'\" + stateId + \"' is not a valid state path.\");\n  }\n}\nexport function toStateValue(stateValue, delimiter) {\n  if (isState(stateValue)) {\n    return stateValue.value;\n  }\n\n  if (Array.isArray(stateValue)) {\n    return pathToStateValue(stateValue);\n  }\n\n  if (typeof stateValue !== 'string' && !isState(stateValue)) {\n    return stateValue;\n  }\n\n  var statePath = toStatePath(stateValue, delimiter);\n  return pathToStateValue(statePath);\n}\nexport function pathToStateValue(statePath) {\n  if (statePath.length === 1) {\n    return statePath[0];\n  }\n\n  var value = {};\n  var marker = value;\n\n  for (var i = 0; i < statePath.length - 1; i++) {\n    if (i === statePath.length - 2) {\n      marker[statePath[i]] = statePath[i + 1];\n    } else {\n      marker[statePath[i]] = {};\n      marker = marker[statePath[i]];\n    }\n  }\n\n  return value;\n}\nexport function mapValues(collection, iteratee) {\n  var result = {};\n  keys(collection).forEach(function (key, i) {\n    result[key] = iteratee(collection[key], key, collection, i);\n  });\n  return result;\n}\nexport function mapFilterValues(collection, iteratee, predicate) {\n  var result = {};\n  keys(collection).forEach(function (key) {\n    var item = collection[key];\n\n    if (!predicate(item)) {\n      return;\n    }\n\n    result[key] = iteratee(item, key, collection);\n  });\n  return result;\n}\n/**\n * Retrieves a value at the given path.\n * @param props The deep path to the prop of the desired value\n */\n\nexport var path = function path(props) {\n  return function (object) {\n    var e_1, _a;\n\n    var result = object;\n\n    try {\n      for (var props_1 = __values(props), props_1_1 = props_1.next(); !props_1_1.done; props_1_1 = props_1.next()) {\n        var prop = props_1_1.value;\n        result = result[prop];\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (props_1_1 && !props_1_1.done && (_a = props_1.return)) _a.call(props_1);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n\n    return result;\n  };\n};\n/**\n * Retrieves a value at the given path via the nested accessor prop.\n * @param props The deep path to the prop of the desired value\n */\n\nexport function nestedPath(props, accessorProp) {\n  return function (object) {\n    var e_2, _a;\n\n    var result = object;\n\n    try {\n      for (var props_2 = __values(props), props_2_1 = props_2.next(); !props_2_1.done; props_2_1 = props_2.next()) {\n        var prop = props_2_1.value;\n        result = result[accessorProp][prop];\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (props_2_1 && !props_2_1.done && (_a = props_2.return)) _a.call(props_2);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n\n    return result;\n  };\n}\nexport var toStatePaths = function toStatePaths(stateValue) {\n  if (!stateValue) {\n    return [[]];\n  }\n\n  if (typeof stateValue === 'string') {\n    return [[stateValue]];\n  }\n\n  var result = flatten(keys(stateValue).map(function (key) {\n    var subStateValue = stateValue[key];\n\n    if (typeof subStateValue !== 'string' && !Object.keys(subStateValue).length) {\n      return [[key]];\n    }\n\n    return toStatePaths(stateValue[key]).map(function (subPath) {\n      return [key].concat(subPath);\n    });\n  }));\n  return result;\n};\nexport var pathsToStateValue = function pathsToStateValue(paths) {\n  var e_3, _a;\n\n  var result = {};\n\n  if (paths && paths.length === 1 && paths[0].length === 1) {\n    return paths[0][0];\n  }\n\n  try {\n    for (var paths_1 = __values(paths), paths_1_1 = paths_1.next(); !paths_1_1.done; paths_1_1 = paths_1.next()) {\n      var currentPath = paths_1_1.value;\n      var marker = result; // tslint:disable-next-line:prefer-for-of\n\n      for (var i = 0; i < currentPath.length; i++) {\n        var subPath = currentPath[i];\n\n        if (i === currentPath.length - 2) {\n          marker[subPath] = currentPath[i + 1];\n          break;\n        }\n\n        marker[subPath] = marker[subPath] || {};\n        marker = marker[subPath];\n      }\n    }\n  } catch (e_3_1) {\n    e_3 = {\n      error: e_3_1\n    };\n  } finally {\n    try {\n      if (paths_1_1 && !paths_1_1.done && (_a = paths_1.return)) _a.call(paths_1);\n    } finally {\n      if (e_3) throw e_3.error;\n    }\n  }\n\n  return result;\n};\nexport function flatten(array) {\n  var _a;\n\n  return (_a = []).concat.apply(_a, __spread(array));\n}\nexport function toArray(value) {\n  if (Array.isArray(value)) {\n    return value;\n  }\n\n  if (value === undefined) {\n    return [];\n  }\n\n  return [value];\n}\nexport function mapContext(mapper, context, event) {\n  if (typeof mapper === 'function') {\n    return mapper(context, event);\n  }\n\n  return keys(mapper).reduce(function (acc, key) {\n    var subMapper = mapper[key];\n\n    if (typeof subMapper === 'function') {\n      acc[key] = subMapper(context, event);\n    } else {\n      acc[key] = subMapper;\n    }\n\n    return acc;\n  }, {});\n}","export var ActionTypes;\n\n(function (ActionTypes) {\n  ActionTypes[\"Start\"] = \"xstate.start\";\n  ActionTypes[\"Stop\"] = \"xstate.stop\";\n  ActionTypes[\"Raise\"] = \"xstate.raise\";\n  ActionTypes[\"Send\"] = \"xstate.send\";\n  ActionTypes[\"Cancel\"] = \"xstate.cancel\";\n  ActionTypes[\"NullEvent\"] = \"\";\n  ActionTypes[\"Assign\"] = \"xstate.assign\";\n  ActionTypes[\"After\"] = \"xstate.after\";\n  ActionTypes[\"DoneState\"] = \"done.state\";\n  ActionTypes[\"DoneInvoke\"] = \"done.invoke\";\n  ActionTypes[\"Log\"] = \"xstate.log\";\n  ActionTypes[\"Init\"] = \"xstate.init\";\n  ActionTypes[\"Invoke\"] = \"xstate.invoke\";\n  ActionTypes[\"ErrorExecution\"] = \"error.execution\";\n  ActionTypes[\"ErrorCommunication\"] = \"error.communication\";\n})(ActionTypes || (ActionTypes = {}));\n\nexport var SpecialTargets;\n\n(function (SpecialTargets) {\n  SpecialTargets[\"Parent\"] = \"#_parent\";\n  SpecialTargets[\"Internal\"] = \"#_internal\";\n})(SpecialTargets || (SpecialTargets = {}));","var __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar __spread = this && this.__spread || function () {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(__read(arguments[i]));\n  }\n\n  return ar;\n};\n\nimport { EMPTY_ACTIVITY_MAP } from './constants';\nimport { matchesState, keys } from './utils';\nexport function stateValuesEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  var aKeys = keys(a);\n  var bKeys = keys(b);\n  return aKeys.length === bKeys.length && aKeys.every(function (key) {\n    return stateValuesEqual(a[key], b[key]);\n  });\n}\n\nvar State =\n/** @class */\n\n/*#__PURE__*/\nfunction () {\n  /**\n   * Creates a new State instance.\n   * @param value The state value\n   * @param context The extended state\n   * @param historyValue The tree representing historical values of the state nodes\n   * @param history The previous state\n   * @param actions An array of action objects to execute as side-effects\n   * @param activities A mapping of activities and whether they are started (`true`) or stopped (`false`).\n   * @param meta\n   * @param events Internal event queue. Should be empty with run-to-completion semantics.\n   * @param tree\n   */\n  function State(config) {\n    this.actions = [];\n    this.activities = EMPTY_ACTIVITY_MAP;\n    this.meta = {};\n    this.events = [];\n    this.value = config.value;\n    this.context = config.context;\n    this.historyValue = config.historyValue;\n    this.history = config.history;\n    this.actions = config.actions || [];\n    this.activities = config.activities || EMPTY_ACTIVITY_MAP;\n    this.meta = config.meta || {};\n    this.events = config.events || [];\n    Object.defineProperty(this, 'tree', {\n      value: config.tree,\n      enumerable: false\n    });\n  }\n  /**\n   * Creates a new State instance for the given `stateValue` and `context`.\n   * @param stateValue\n   * @param context\n   */\n\n\n  State.from = function (stateValue, context) {\n    if (stateValue instanceof State) {\n      if (stateValue.context !== context) {\n        return new State({\n          value: stateValue.value,\n          context: context,\n          historyValue: stateValue.historyValue,\n          history: stateValue.history,\n          actions: [],\n          activities: stateValue.activities,\n          meta: {},\n          events: [],\n          tree: stateValue.tree\n        });\n      }\n\n      return stateValue;\n    }\n\n    return new State({\n      value: stateValue,\n      context: context,\n      historyValue: undefined,\n      history: undefined,\n      actions: [],\n      activities: undefined,\n      meta: undefined,\n      events: []\n    });\n  };\n  /**\n   * Creates a new State instance for the given `config`.\n   * @param config The state config\n   */\n\n\n  State.create = function (config) {\n    return new State(config);\n  };\n  /**\n   * Creates a new State instance for the given `stateValue` and `context` with no actions (side-effects).\n   * @param stateValue\n   * @param context\n   */\n\n\n  State.inert = function (stateValue, context) {\n    if (stateValue instanceof State) {\n      if (!stateValue.actions.length) {\n        return stateValue;\n      }\n\n      return new State({\n        value: stateValue.value,\n        context: context,\n        historyValue: stateValue.historyValue,\n        history: stateValue.history,\n        activities: stateValue.activities,\n        tree: stateValue.tree\n      });\n    }\n\n    return State.from(stateValue, context);\n  };\n\n  Object.defineProperty(State.prototype, \"nextEvents\", {\n    /**\n     * The next events that will cause a transition from the current state.\n     */\n    get: function get() {\n      if (!this.tree) {\n        return [];\n      }\n\n      return this.tree.nextEvents;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * Returns an array of all the string leaf state node paths.\n   * @param stateValue\n   * @param delimiter The character(s) that separate each subpath in the string state node path.\n   */\n\n  State.prototype.toStrings = function (stateValue, delimiter) {\n    var _this = this;\n\n    if (stateValue === void 0) {\n      stateValue = this.value;\n    }\n\n    if (delimiter === void 0) {\n      delimiter = '.';\n    }\n\n    if (typeof stateValue === 'string') {\n      return [stateValue];\n    }\n\n    var valueKeys = keys(stateValue);\n    return valueKeys.concat.apply(valueKeys, __spread(valueKeys.map(function (key) {\n      return _this.toStrings(stateValue[key]).map(function (s) {\n        return key + delimiter + s;\n      });\n    })));\n  };\n  /**\n   * Whether the current state value is a subset of the given parent state value.\n   * @param parentStateValue\n   */\n\n\n  State.prototype.matches = function (parentStateValue) {\n    return matchesState(parentStateValue, this.value);\n  };\n\n  Object.defineProperty(State.prototype, \"changed\", {\n    /**\n     * Indicates whether the state has changed from the previous state. A state is considered \"changed\" if:\n     *\n     * - Its value is not equal to its previous value, or:\n     * - It has any new actions (side-effects) to execute.\n     *\n     * An initial state (with no history) will return `undefined`.\n     */\n    get: function get() {\n      if (!this.history) {\n        return undefined;\n      }\n\n      return !!this.actions.length || (typeof this.history.value !== typeof this.value ? true : typeof this.value === 'string' ? this.value !== this.history.value : stateValuesEqual(this.value, this.history.value));\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return State;\n}();\n\nexport { State };","import { ActionTypes } from './types'; // xstate-specific action types\n\nexport var start = ActionTypes.Start;\nexport var stop = ActionTypes.Stop;\nexport var raise = ActionTypes.Raise;\nexport var send = ActionTypes.Send;\nexport var cancel = ActionTypes.Cancel;\nexport var nullEvent = ActionTypes.NullEvent;\nexport var assign = ActionTypes.Assign;\nexport var after = ActionTypes.After;\nexport var doneState = ActionTypes.DoneState;\nexport var log = ActionTypes.Log;\nexport var init = ActionTypes.Init;\nexport var invoke = ActionTypes.Invoke;\nexport var errorExecution = ActionTypes.ErrorExecution;","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { ActionTypes, SpecialTargets } from './types';\nimport * as actionTypes from './actionTypes';\nimport { getEventType } from './utils';\nexport { actionTypes };\nexport function toEventObject(event // id?: TEvent['type']\n) {\n  if (typeof event === 'string' || typeof event === 'number') {\n    var eventObject = {\n      type: event\n    }; // if (id !== undefined) {\n    //   eventObject.id = id;\n    // }\n\n    return eventObject;\n  }\n\n  return event;\n}\n\nfunction getActionFunction(actionType, actionFunctionMap) {\n  if (!actionFunctionMap) {\n    return undefined;\n  }\n\n  var actionReference = actionFunctionMap[actionType];\n\n  if (!actionReference) {\n    return undefined;\n  }\n\n  if (typeof actionReference === 'function') {\n    return actionReference;\n  }\n\n  return actionReference;\n}\n\nexport function toActionObject(action, actionFunctionMap) {\n  var actionObject;\n\n  if (typeof action === 'string' || typeof action === 'number') {\n    var exec = getActionFunction(action, actionFunctionMap);\n\n    if (typeof exec === 'function') {\n      actionObject = {\n        type: action,\n        exec: exec\n      };\n    } else if (exec) {\n      actionObject = exec;\n    } else {\n      actionObject = {\n        type: action,\n        exec: undefined\n      };\n    }\n  } else if (typeof action === 'function') {\n    actionObject = {\n      type: action.name,\n      exec: action\n    };\n  } else {\n    var exec = getActionFunction(action.type, actionFunctionMap);\n\n    if (typeof exec === 'function') {\n      actionObject = __assign({}, action, {\n        exec: exec\n      });\n    } else if (exec) {\n      var type = action.type,\n          other = __rest(action, [\"type\"]);\n\n      actionObject = __assign({\n        type: type\n      }, exec, other);\n    } else {\n      actionObject = action;\n    }\n  }\n\n  Object.defineProperty(actionObject, 'toString', {\n    value: function value() {\n      return actionObject.type;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return actionObject;\n}\nexport function toActivityDefinition(action) {\n  var actionObject = toActionObject(action);\n  return __assign({\n    id: typeof action === 'string' ? action : actionObject.id\n  }, actionObject, {\n    type: actionObject.type\n  });\n}\nexport var toActionObjects = function toActionObjects(action, actionFunctionMap) {\n  if (!action) {\n    return [];\n  }\n\n  var actions = Array.isArray(action) ? action : [action];\n  return actions.map(function (subAction) {\n    return toActionObject(subAction, actionFunctionMap);\n  });\n};\n/**\n * Raises an event. This places the event in the internal event queue, so that\n * the event is immediately consumed by the machine in the current step.\n *\n * @param eventType The event to raise.\n */\n\nexport function raise(event) {\n  return {\n    type: actionTypes.raise,\n    event: event\n  };\n}\n/**\n * Sends an event. This returns an action that will be read by an interpreter to\n * send the event in the next step, after the current step is finished executing.\n *\n * @param event The event to send.\n * @param options Options to pass into the send event:\n *  - `id` - The unique send event identifier (used with `cancel()`).\n *  - `delay` - The number of milliseconds to delay the sending of the event.\n *  - `target` - The target of this event (by default, the machine the event was sent from).\n */\n\nexport function send(event, options) {\n  return {\n    to: options ? options.to : undefined,\n    type: actionTypes.send,\n    event: toEventObject(event),\n    delay: options ? options.delay : undefined,\n    id: options && options.id !== undefined ? options.id : getEventType(event)\n  };\n}\n/**\n * Sends an event to this machine's parent machine.\n *\n * @param event The event to send to the parent machine.\n * @param options Options to pass into the send event.\n */\n\nexport function sendParent(event, options) {\n  return send(event, __assign({}, options, {\n    to: SpecialTargets.Parent\n  }));\n}\n/**\n *\n * @param expr The expression function to evaluate which will be logged.\n *  Takes in 2 arguments:\n *  - `ctx` - the current state context\n *  - `event` - the event that caused this action to be executed.\n * @param label The label to give to the logged expression.\n */\n\nexport function log(expr, label) {\n  if (expr === void 0) {\n    expr = function expr(context, event) {\n      return {\n        context: context,\n        event: event\n      };\n    };\n  }\n\n  return {\n    type: actionTypes.log,\n    label: label,\n    expr: expr\n  };\n}\n/**\n * Cancels an in-flight `send(...)` action. A canceled sent action will not\n * be executed, nor will its event be sent, unless it has already been sent\n * (e.g., if `cancel(...)` is called after the `send(...)` action's `delay`).\n *\n * @param sendId The `id` of the `send(...)` action to cancel.\n */\n\nexport var cancel = function cancel(sendId) {\n  return {\n    type: actionTypes.cancel,\n    sendId: sendId\n  };\n};\n/**\n * Starts an activity.\n *\n * @param activity The activity to start.\n */\n\nexport function start(activity) {\n  var activityDef = toActivityDefinition(activity);\n  return {\n    type: ActionTypes.Start,\n    activity: activityDef,\n    exec: undefined\n  };\n}\n/**\n * Stops an activity.\n *\n * @param activity The activity to stop.\n */\n\nexport function stop(activity) {\n  var activityDef = toActivityDefinition(activity);\n  return {\n    type: ActionTypes.Stop,\n    activity: activityDef,\n    exec: undefined\n  };\n}\n/**\n * Updates the current context of the machine.\n *\n * @param assignment An object that represents the partial context to update.\n */\n\nexport var assign = function assign(assignment) {\n  return {\n    type: actionTypes.assign,\n    assignment: assignment\n  };\n};\nexport function isActionObject(action) {\n  return typeof action === 'object' && 'type' in action;\n}\n/**\n * Returns an event type that represents an implicit event that\n * is sent after the specified `delay`.\n *\n * @param delay The delay in milliseconds\n * @param id The state node ID where this event is handled\n */\n\nexport function after(delay, id) {\n  var idSuffix = id ? \"#\" + id : '';\n  return ActionTypes.After + \"(\" + delay + \")\" + idSuffix;\n}\n/**\n * Returns an event that represents that a final state node\n * has been reached in the parent state node.\n *\n * @param id The final state node's parent state node `id`\n * @param data The data to pass into the event\n */\n\nexport function done(id, data) {\n  var type = ActionTypes.DoneState + \".\" + id;\n  var eventObject = {\n    type: type,\n    data: data\n  };\n\n  eventObject.toString = function () {\n    return type;\n  };\n\n  return eventObject;\n}\n/**\n * Returns an event that represents that an invoked service has terminated.\n *\n * An invoked service is terminated when it has reached a top-level final state node,\n * but not when it is canceled.\n *\n * @param id The final state node ID\n * @param data The data to pass into the event\n */\n\nexport function doneInvoke(id, data) {\n  var type = ActionTypes.DoneInvoke + \".\" + id;\n  var eventObject = {\n    type: type,\n    data: data\n  };\n\n  eventObject.toString = function () {\n    return type;\n  };\n\n  return eventObject;\n}\n/**\n * Invokes (spawns) a child service, as a separate interpreted machine.\n *\n * @param invokeConfig The string service to invoke, or a config object:\n *  - `src` - The source (URL) of the machine definition to invoke\n *  - `forward` - Whether events sent to this machine are sent (forwarded) to the\n *    invoked machine.\n * @param options\n */\n\nexport function invoke(invokeConfig, options) {\n  if (typeof invokeConfig === 'string') {\n    return __assign({\n      id: invokeConfig,\n      src: invokeConfig,\n      type: ActionTypes.Invoke\n    }, options);\n  }\n\n  if (!('src' in invokeConfig)) {\n    var machine = invokeConfig;\n    return {\n      type: ActionTypes.Invoke,\n      id: machine.id,\n      src: machine\n    };\n  }\n\n  return __assign({\n    type: ActionTypes.Invoke\n  }, invokeConfig, {\n    id: invokeConfig.id || (typeof invokeConfig.src === 'string' ? invokeConfig.src : typeof invokeConfig.src === 'function' ? 'promise' : invokeConfig.src.id)\n  });\n}\nexport function error(data, src) {\n  return {\n    src: src,\n    type: ActionTypes.ErrorExecution,\n    data: data\n  };\n}","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar __spread = this && this.__spread || function () {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(__read(arguments[i]));\n  }\n\n  return ar;\n};\n\nimport { mapValues, flatten, toStatePaths, keys, mapContext } from './utils';\nimport { matchesState } from './utils';\nimport { done } from './actions';\nvar defaultStateTreeOptions = {\n  resolved: false\n};\n\nvar StateTree =\n/** @class */\n\n/*#__PURE__*/\nfunction () {\n  function StateTree(stateNode, _stateValue, options) {\n    var _a;\n\n    if (options === void 0) {\n      options = defaultStateTreeOptions;\n    }\n\n    this.stateNode = stateNode;\n    this._stateValue = _stateValue;\n    this.nodes = _stateValue ? typeof _stateValue === 'string' ? (_a = {}, _a[_stateValue] = new StateTree(stateNode.getStateNode(_stateValue), undefined), _a) : mapValues(_stateValue, function (subValue, key) {\n      return new StateTree(stateNode.getStateNode(key), subValue);\n    }) : {};\n\n    var resolvedOptions = __assign({}, defaultStateTreeOptions, options);\n\n    this.isResolved = resolvedOptions.resolved;\n  }\n\n  Object.defineProperty(StateTree.prototype, \"done\", {\n    get: function get() {\n      var _this = this;\n\n      switch (this.stateNode.type) {\n        case 'final':\n          return true;\n\n        case 'compound':\n          var childTree = this.nodes[keys(this.nodes)[0]];\n          return childTree.stateNode.type === 'final';\n\n        case 'parallel':\n          return keys(this.nodes).some(function (key) {\n            return _this.nodes[key].done;\n          });\n\n        default:\n          return false;\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  StateTree.prototype.getDoneData = function (context, event) {\n    if (!this.done) {\n      return undefined;\n    }\n\n    if (this.stateNode.type === 'compound') {\n      var childTree = this.nodes[keys(this.nodes)[0]];\n\n      if (!childTree.stateNode.data) {\n        return undefined;\n      } // console.log(childTree.stateNode.id, (childTree.stateNode as any)._config);\n\n\n      return mapContext(childTree.stateNode.data, context, event);\n    }\n\n    return undefined;\n  };\n\n  Object.defineProperty(StateTree.prototype, \"atomicNodes\", {\n    get: function get() {\n      var _this = this;\n\n      if (this.stateNode.type === 'atomic' || this.stateNode.type === 'final') {\n        return [this.stateNode];\n      }\n\n      return flatten(keys(this.value).map(function (key) {\n        return _this.value[key].atomicNodes;\n      }));\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  StateTree.prototype.getDoneEvents = function (entryStateNodes) {\n    var _this = this; // If no state nodes are being entered, no done events will be fired\n\n\n    if (!entryStateNodes || !entryStateNodes.size) {\n      return [];\n    }\n\n    if (entryStateNodes.has(this.stateNode) && this.stateNode.type === 'final') {\n      return [done(this.stateNode.id, this.stateNode.data)];\n    }\n\n    var childDoneEvents = flatten(keys(this.nodes).map(function (key) {\n      return _this.nodes[key].getDoneEvents(entryStateNodes);\n    }));\n\n    if (this.stateNode.type === 'parallel') {\n      var allChildrenDone = keys(this.nodes).every(function (key) {\n        return _this.nodes[key].done;\n      });\n\n      if (childDoneEvents && allChildrenDone) {\n        return [done(this.stateNode.id)].concat(childDoneEvents);\n      } else {\n        return childDoneEvents;\n      }\n    }\n\n    if (!this.done || !childDoneEvents.length) {\n      return childDoneEvents;\n    } // TODO: handle merging strategy\n    // For compound state nodes with final child state, there should be only\n    // one done.state event (potentially with data).\n\n\n    var doneData = childDoneEvents.length === 1 ? childDoneEvents[0].data : undefined;\n    return [done(this.stateNode.id, doneData)].concat(childDoneEvents);\n  };\n\n  Object.defineProperty(StateTree.prototype, \"resolved\", {\n    get: function get() {\n      return new StateTree(this.stateNode, this.stateNode.resolve(this.value), {\n        resolved: true\n      });\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(StateTree.prototype, \"paths\", {\n    get: function get() {\n      return toStatePaths(this.value);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(StateTree.prototype, \"absolute\", {\n    get: function get() {\n      var _this = this;\n\n      var _stateValue = this._stateValue;\n      var absoluteStateValue = {};\n      var marker = absoluteStateValue;\n      this.stateNode.path.forEach(function (key, i) {\n        if (i === _this.stateNode.path.length - 1) {\n          marker[key] = _stateValue;\n        } else {\n          marker[key] = {};\n          marker = marker[key];\n        }\n      });\n      return new StateTree(this.stateNode.machine, absoluteStateValue);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(StateTree.prototype, \"nextEvents\", {\n    get: function get() {\n      var _this = this;\n\n      var ownEvents = this.stateNode.ownEvents;\n      var childEvents = flatten(keys(this.nodes).map(function (key) {\n        var subTree = _this.nodes[key];\n        return subTree.nextEvents;\n      }));\n      return __spread(new Set(childEvents.concat(ownEvents)));\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  StateTree.prototype.clone = function () {\n    return new StateTree(this.stateNode, this.value);\n  };\n\n  StateTree.prototype.combine = function (tree) {\n    var _this = this;\n\n    var _a;\n\n    if (tree.stateNode !== this.stateNode) {\n      throw new Error('Cannot combine distinct trees');\n    }\n\n    if (this.stateNode.type === 'compound') {\n      // Only combine if no child state is defined\n      var newValue = void 0;\n\n      if (!keys(this.nodes).length || !keys(tree.nodes).length) {\n        newValue = Object.assign({}, this.nodes, tree.nodes);\n        var newTree = this.clone();\n        newTree.nodes = newValue;\n        return newTree;\n      } else {\n        var childKey = keys(this.nodes)[0];\n        newValue = (_a = {}, _a[childKey] = this.nodes[childKey].combine(tree.nodes[childKey]), _a);\n        var newTree = this.clone();\n        newTree.nodes = newValue;\n        return newTree;\n      }\n    }\n\n    if (this.stateNode.type === 'parallel') {\n      var valueKeys = new Set(__spread(keys(this.nodes), keys(tree.nodes)));\n      var newValue_1 = {};\n      valueKeys.forEach(function (key) {\n        if (!_this.nodes[key] || !tree.nodes[key]) {\n          newValue_1[key] = _this.nodes[key] || tree.nodes[key];\n        } else {\n          newValue_1[key] = _this.nodes[key].combine(tree.nodes[key]);\n        }\n      });\n      var newTree = this.clone();\n      newTree.nodes = newValue_1;\n      return newTree;\n    } // nothing to do\n\n\n    return this;\n  };\n\n  Object.defineProperty(StateTree.prototype, \"value\", {\n    get: function get() {\n      if (this.stateNode.type === 'atomic' || this.stateNode.type === 'final') {\n        return {};\n      }\n\n      if (this.stateNode.type === 'parallel') {\n        return mapValues(this.nodes, function (st) {\n          return st.value;\n        });\n      }\n\n      if (this.stateNode.type === 'compound') {\n        if (keys(this.nodes).length === 0) {\n          return {};\n        }\n\n        var childStateNode = this.nodes[keys(this.nodes)[0]].stateNode;\n\n        if (childStateNode.type === 'atomic' || childStateNode.type === 'final') {\n          return childStateNode.key;\n        }\n\n        return mapValues(this.nodes, function (st) {\n          return st.value;\n        });\n      }\n\n      return {};\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  StateTree.prototype.matches = function (parentValue) {\n    return matchesState(parentValue, this.value);\n  };\n\n  StateTree.prototype.getEntryExitStates = function (prevTree, externalNodes) {\n    var _this = this;\n\n    if (prevTree.stateNode !== this.stateNode) {\n      throw new Error('Cannot compare distinct trees');\n    }\n\n    switch (this.stateNode.type) {\n      case 'compound':\n        var r1 = {\n          exit: [],\n          entry: []\n        };\n        var currentChildKey = keys(this.nodes)[0];\n        var prevChildKey = keys(prevTree.nodes)[0];\n\n        if (currentChildKey !== prevChildKey) {\n          r1.exit = prevTree.nodes[prevChildKey].getExitStates();\n          r1.entry = this.nodes[currentChildKey].getEntryStates();\n        } else {\n          r1 = this.nodes[currentChildKey].getEntryExitStates(prevTree.nodes[prevChildKey], externalNodes);\n        }\n\n        if (externalNodes && externalNodes.has(this.stateNode)) {\n          r1.exit.push(this.stateNode);\n          r1.entry.unshift(this.stateNode);\n        }\n\n        return r1;\n\n      case 'parallel':\n        var all = keys(this.nodes).map(function (key) {\n          return _this.nodes[key].getEntryExitStates(prevTree.nodes[key], externalNodes);\n        });\n        var result_1 = {\n          exit: [],\n          entry: []\n        };\n        all.forEach(function (ees) {\n          result_1.exit = __spread(result_1.exit, ees.exit);\n          result_1.entry = __spread(result_1.entry, ees.entry);\n        });\n\n        if (externalNodes && externalNodes.has(this.stateNode)) {\n          result_1.exit.push(this.stateNode);\n          result_1.entry.unshift(this.stateNode);\n        }\n\n        return result_1;\n\n      case 'atomic':\n      default:\n        if (externalNodes && externalNodes.has(this.stateNode)) {\n          return {\n            exit: [this.stateNode],\n            entry: [this.stateNode]\n          };\n        }\n\n        return {\n          exit: [],\n          entry: []\n        };\n    }\n  };\n\n  StateTree.prototype.getEntryStates = function () {\n    var _this = this;\n\n    if (!this.nodes) {\n      return [this.stateNode];\n    }\n\n    return [this.stateNode].concat(flatten(keys(this.nodes).map(function (key) {\n      return _this.nodes[key].getEntryStates();\n    })));\n  };\n\n  StateTree.prototype.getExitStates = function () {\n    var _this = this;\n\n    if (!this.nodes) {\n      return [this.stateNode];\n    }\n\n    return flatten(keys(this.nodes).map(function (key) {\n      return _this.nodes[key].getExitStates();\n    })).concat(this.stateNode);\n  };\n\n  return StateTree;\n}();\n\nexport { StateTree };","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar __spread = this && this.__spread || function () {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(__read(arguments[i]));\n  }\n\n  return ar;\n};\n\nvar __values = this && this.__values || function (o) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator],\n      i = 0;\n  if (m) return m.call(o);\n  return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n};\n\nimport { getEventType, toStatePath, toStateValue, mapValues, path, toStatePaths, pathToStateValue, flatten, mapFilterValues, nestedPath, toArray, keys } from './utils';\nimport { ActionTypes } from './types';\nimport { matchesState } from './utils';\nimport { State } from './State';\nimport * as actionTypes from './actionTypes';\nimport { start, stop, toEventObject, toActionObjects, toActivityDefinition, send, cancel, after, raise, done, doneInvoke, invoke, toActionObject } from './actions';\nimport { StateTree } from './StateTree';\nvar STATE_DELIMITER = '.';\nvar NULL_EVENT = '';\nvar STATE_IDENTIFIER = '#';\nvar TARGETLESS_KEY = '';\nvar EMPTY_OBJECT = {};\n\nvar isStateId = function isStateId(str) {\n  return str[0] === STATE_IDENTIFIER;\n};\n\nvar createDefaultOptions = function createDefaultOptions() {\n  return {\n    guards: EMPTY_OBJECT\n  };\n};\n\nvar IS_PRODUCTION = process.env.NODE_ENV === 'production';\n\nvar StateNode =\n/** @class */\n\n/*#__PURE__*/\nfunction () {\n  function StateNode(_config, options,\n  /**\n   * The initial extended state\n   */\n  context) {\n    if (options === void 0) {\n      options = createDefaultOptions();\n    }\n\n    var _this = this;\n\n    this._config = _config;\n    this.options = options;\n    this.context = context;\n    this.__cache = {\n      events: undefined,\n      relativeValue: new Map(),\n      initialState: undefined\n    };\n    this.idMap = {};\n    this.key = _config.key || _config.id || '(machine)';\n    this.parent = _config.parent;\n    this.machine = this.parent ? this.parent.machine : this;\n    this.path = this.parent ? this.parent.path.concat(this.key) : [];\n    this.delimiter = _config.delimiter || (this.parent ? this.parent.delimiter : STATE_DELIMITER);\n    this.id = _config.id || (this.machine ? __spread([this.machine.key], this.path).join(this.delimiter) : this.key);\n    this.type = _config.type || (_config.parallel ? 'parallel' : _config.states && keys(_config.states).length ? 'compound' : _config.history ? 'history' : 'atomic');\n\n    if (!IS_PRODUCTION && 'parallel' in _config) {\n      // tslint:disable-next-line:no-console\n      console.warn(\"The \\\"parallel\\\" property is deprecated and will be removed in version 4.1. \" + (_config.parallel ? \"Replace with `type: 'parallel'`\" : \"Use `type: '\" + this.type + \"'`\") + \" in the config for state node '\" + this.id + \"' instead.\");\n    }\n\n    this.initial = _config.initial;\n    this.order = _config.order || -1;\n    this.states = _config.states ? mapValues(_config.states, function (stateConfig, key, _, i) {\n      var _a;\n\n      var stateNode = new StateNode(__assign({}, stateConfig, {\n        key: key,\n        order: stateConfig.order === undefined ? stateConfig.order : i,\n        parent: _this\n      }));\n      Object.assign(_this.idMap, __assign((_a = {}, _a[stateNode.id] = stateNode, _a), stateNode.idMap));\n      return stateNode;\n    }) : EMPTY_OBJECT; // History config\n\n    this.history = _config.history === true ? 'shallow' : _config.history || false;\n    this.transient = !!(_config.on && _config.on[NULL_EVENT]);\n    this.strict = !!_config.strict;\n    this.onEntry = toArray(_config.onEntry).map(function (action) {\n      return toActionObject(action);\n    });\n    this.onExit = toArray(_config.onExit).map(function (action) {\n      return toActionObject(action);\n    });\n    this.meta = _config.meta;\n    this.data = this.type === 'final' ? _config.data : undefined;\n    this.invoke = toArray(_config.invoke).map(function (invokeConfig) {\n      return invoke(invokeConfig);\n    });\n    this.activities = toArray(_config.activities).concat(this.invoke).map(function (activity) {\n      return _this.resolveActivity(activity);\n    });\n  }\n  /**\n   * Clones this state machine with custom options and context.\n   *\n   * @param options Options (actions, guards, activities, services) to recursively merge with the existing options.\n   * @param context Custom context (will override predefined context)\n   */\n\n\n  StateNode.prototype.withConfig = function (options, context) {\n    var _a = this.options,\n        actions = _a.actions,\n        activities = _a.activities,\n        guards = _a.guards;\n    return new StateNode(this.definition, {\n      actions: __assign({}, actions, options.actions),\n      activities: __assign({}, activities, options.activities),\n      guards: __assign({}, guards, options.guards)\n    }, context);\n  };\n  /**\n   * Clones this state machine with custom context.\n   *\n   * @param context Custom context (will override predefined context, not recursive)\n   */\n\n\n  StateNode.prototype.withContext = function (context) {\n    return new StateNode(this.definition, this.options, context);\n  };\n\n  Object.defineProperty(StateNode.prototype, \"definition\", {\n    /**\n     * The well-structured state node definition.\n     */\n    get: function get() {\n      return {\n        id: this.id,\n        key: this.key,\n        type: this.type,\n        initial: this.initial,\n        history: this.history,\n        states: mapValues(this.states, function (state) {\n          return state.definition;\n        }),\n        on: this.on,\n        onEntry: this.onEntry,\n        onExit: this.onExit,\n        activities: this.activities || [],\n        meta: this.meta,\n        order: this.order || -1,\n        data: this.data\n      };\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(StateNode.prototype, \"config\", {\n    /**\n     * The raw config used to create the machine.\n     */\n    get: function get() {\n      var _a = this._config,\n          parent = _a.parent,\n          config = __rest(_a, [\"parent\"]);\n\n      return config;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(StateNode.prototype, \"on\", {\n    /**\n     * The mapping of events to transitions.\n     */\n    get: function get() {\n      return this.formatTransitions();\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(StateNode.prototype, \"transitions\", {\n    /**\n     * All the transitions that can be taken from this state node.\n     */\n    get: function get() {\n      var _this = this;\n\n      return flatten(keys(this.on).map(function (event) {\n        return _this.on[event];\n      }));\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(StateNode.prototype, \"after\", {\n    /**\n     * All delayed transitions from the config.\n     */\n    get: function get() {\n      var _this = this;\n\n      var afterConfig = this.config.after;\n\n      if (!afterConfig) {\n        return [];\n      }\n\n      if (Array.isArray(afterConfig)) {\n        return afterConfig.map(function (delayedTransition) {\n          return __assign({\n            event: after(delayedTransition.delay, _this.id)\n          }, delayedTransition, {\n            actions: toArray(delayedTransition.actions).map(function (action) {\n              return toActionObject(action);\n            })\n          });\n        });\n      }\n\n      var allDelayedTransitions = flatten(keys(afterConfig).map(function (delayKey) {\n        var delayedTransition = afterConfig[delayKey];\n        var delay = +delayKey;\n        var event = after(delay, _this.id);\n\n        if (typeof delayedTransition === 'string') {\n          return [{\n            target: delayedTransition,\n            delay: delay,\n            event: event,\n            actions: []\n          }];\n        }\n\n        var delayedTransitions = toArray(delayedTransition);\n        return delayedTransitions.map(function (transition) {\n          return __assign({\n            event: event,\n            delay: delay\n          }, transition, {\n            actions: toArray(transition.actions).map(function (action) {\n              return toActionObject(action);\n            })\n          });\n        });\n      }));\n      allDelayedTransitions.sort(function (a, b) {\n        return a.delay - b.delay;\n      });\n      return allDelayedTransitions;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * Returns the state nodes represented by the current state value.\n   *\n   * @param state The state value or State instance\n   */\n\n  StateNode.prototype.getStateNodes = function (state) {\n    var _this = this;\n\n    var _a;\n\n    if (!state) {\n      return [];\n    }\n\n    var stateValue = state instanceof State ? state.value : toStateValue(state, this.delimiter);\n\n    if (typeof stateValue === 'string') {\n      var initialStateValue = this.getStateNode(stateValue).initial;\n      return initialStateValue ? this.getStateNodes((_a = {}, _a[stateValue] = initialStateValue, _a)) : [this.states[stateValue]];\n    }\n\n    var subStateKeys = keys(stateValue);\n    var subStateNodes = subStateKeys.map(function (subStateKey) {\n      return _this.getStateNode(subStateKey);\n    });\n    return subStateNodes.concat(subStateKeys.reduce(function (allSubStateNodes, subStateKey) {\n      var subStateNode = _this.getStateNode(subStateKey).getStateNodes(stateValue[subStateKey]);\n\n      return allSubStateNodes.concat(subStateNode);\n    }, []));\n  };\n  /**\n   * Whether this state node explicitly handles the given event.\n   *\n   * @param event The event in question\n   */\n\n\n  StateNode.prototype.handles = function (event) {\n    var eventType = getEventType(event);\n    return this.events.indexOf(eventType) !== -1;\n  };\n\n  StateNode.prototype.transitionLeafNode = function (stateValue, state, eventObject, context) {\n    var stateNode = this.getStateNode(stateValue);\n    var next = stateNode.next(state, eventObject, context);\n\n    if (!next.tree) {\n      var _a = this.next(state, eventObject, context),\n          reentryStates = _a.reentryStates,\n          actions = _a.actions,\n          tree = _a.tree;\n\n      return {\n        tree: tree,\n        source: state,\n        reentryStates: reentryStates,\n        actions: actions\n      };\n    }\n\n    return next;\n  };\n\n  StateNode.prototype.transitionCompoundNode = function (stateValue, state, eventObject, context) {\n    var subStateKeys = keys(stateValue);\n    var stateNode = this.getStateNode(subStateKeys[0]);\n\n    var next = stateNode._transition(stateValue[subStateKeys[0]], state, eventObject, context);\n\n    if (!next.tree) {\n      var _a = this.next(state, eventObject, context),\n          reentryStates = _a.reentryStates,\n          actions = _a.actions,\n          tree = _a.tree;\n\n      return {\n        tree: tree,\n        source: state,\n        reentryStates: reentryStates,\n        actions: actions\n      };\n    }\n\n    return next;\n  };\n\n  StateNode.prototype.transitionParallelNode = function (stateValue, state, eventObject, context) {\n    var _this = this;\n\n    var noTransitionKeys = [];\n    var transitionMap = {};\n    keys(stateValue).forEach(function (subStateKey) {\n      var subStateValue = stateValue[subStateKey];\n\n      if (!subStateValue) {\n        return;\n      }\n\n      var subStateNode = _this.getStateNode(subStateKey);\n\n      var next = subStateNode._transition(subStateValue, state, eventObject, context);\n\n      if (!next.tree) {\n        noTransitionKeys.push(subStateKey);\n      }\n\n      transitionMap[subStateKey] = next;\n    });\n    var willTransition = keys(transitionMap).some(function (key) {\n      return transitionMap[key].tree !== undefined;\n    });\n\n    if (!willTransition) {\n      var _a = this.next(state, eventObject, context),\n          reentryStates = _a.reentryStates,\n          actions = _a.actions,\n          tree = _a.tree;\n\n      return {\n        tree: tree,\n        source: state,\n        reentryStates: reentryStates,\n        actions: actions\n      };\n    }\n\n    var allTrees = keys(transitionMap).map(function (key) {\n      return transitionMap[key].tree;\n    }).filter(function (t) {\n      return t !== undefined;\n    });\n    var combinedTree = allTrees.reduce(function (acc, t) {\n      return acc.combine(t);\n    });\n    var allPaths = combinedTree.paths; // External transition that escapes orthogonal region\n\n    if (allPaths.length === 1 && !matchesState(toStateValue(this.path, this.delimiter), combinedTree.value)) {\n      return {\n        tree: combinedTree,\n        source: state,\n        reentryStates: keys(transitionMap).map(function (key) {\n          return transitionMap[key].reentryStates;\n        }).reduce(function (allReentryStates, reentryStates) {\n          return new Set(__spread(Array.from(allReentryStates || []), Array.from(reentryStates || [])));\n        }, new Set()),\n        actions: flatten(keys(transitionMap).map(function (key) {\n          return transitionMap[key].actions;\n        }))\n      };\n    }\n\n    var allResolvedTrees = keys(transitionMap).map(function (key) {\n      var transition = transitionMap[key];\n      var subValue = path(_this.path)(transition.tree ? transition.tree.value : state.value || state.value)[key];\n      return new StateTree(_this.getStateNode(key), subValue).absolute;\n    });\n    var finalCombinedTree = allResolvedTrees.reduce(function (acc, t) {\n      return acc.combine(t);\n    });\n    return {\n      tree: finalCombinedTree,\n      source: state,\n      reentryStates: keys(transitionMap).reduce(function (allReentryStates, key) {\n        var _a = transitionMap[key],\n            tree = _a.tree,\n            reentryStates = _a.reentryStates; // If the event was not handled (no subStateValue),\n        // machine should still be in state without reentry/exit.\n\n        if (!tree || !reentryStates) {\n          return allReentryStates;\n        }\n\n        return new Set(__spread(Array.from(allReentryStates), Array.from(reentryStates)));\n      }, new Set()),\n      actions: flatten(keys(transitionMap).map(function (key) {\n        return transitionMap[key].actions;\n      }))\n    };\n  };\n\n  StateNode.prototype._transition = function (stateValue, state, event, context) {\n    // leaf node\n    if (typeof stateValue === 'string') {\n      return this.transitionLeafNode(stateValue, state, event, context);\n    } // hierarchical node\n\n\n    if (keys(stateValue).length === 1) {\n      return this.transitionCompoundNode(stateValue, state, event, context);\n    } // orthogonal node\n\n\n    return this.transitionParallelNode(stateValue, state, event, context);\n  };\n\n  StateNode.prototype.next = function (state, eventObject, context) {\n    var _this = this;\n\n    var e_1, _a;\n\n    var eventType = eventObject.type;\n    var candidates = this.on[eventType];\n    var actions = this.transient ? [{\n      type: actionTypes.nullEvent\n    }] : [];\n\n    if (!candidates || !candidates.length) {\n      return {\n        tree: undefined,\n        source: state,\n        reentryStates: undefined,\n        actions: actions\n      };\n    }\n\n    var nextStateStrings = [];\n    var selectedTransition;\n\n    try {\n      for (var candidates_1 = __values(candidates), candidates_1_1 = candidates_1.next(); !candidates_1_1.done; candidates_1_1 = candidates_1.next()) {\n        var candidate = candidates_1_1.value;\n        var _b = candidate,\n            cond = _b.cond,\n            stateIn = _b.in;\n        var resolvedContext = context || EMPTY_OBJECT;\n        var isInState = stateIn ? typeof stateIn === 'string' && isStateId(stateIn) ? // Check if in state by ID\n        state.matches(toStateValue(this.getStateNodeById(stateIn).path, this.delimiter)) : // Check if in state by relative grandparent\n        matchesState(toStateValue(stateIn, this.delimiter), path(this.path.slice(0, -2))(state.value)) : true;\n\n        if ((!cond || this.evaluateGuard(cond, resolvedContext, eventObject, state.value)) && isInState) {\n          nextStateStrings = toArray(candidate.target);\n          actions.push.apply(actions, __spread(toArray(candidate.actions)));\n          selectedTransition = candidate;\n          break;\n        }\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (candidates_1_1 && !candidates_1_1.done && (_a = candidates_1.return)) _a.call(candidates_1);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    } // targetless transition\n\n\n    if (selectedTransition && nextStateStrings.length === 0) {\n      var tree = state.value ? this.machine.getStateTree(state.value) : undefined;\n      return {\n        tree: tree,\n        source: state,\n        reentryStates: undefined,\n        actions: actions\n      };\n    }\n\n    if (!selectedTransition && nextStateStrings.length === 0) {\n      return {\n        tree: undefined,\n        source: state,\n        reentryStates: undefined,\n        actions: actions\n      };\n    }\n\n    var nextStateNodes = flatten(nextStateStrings.map(function (str) {\n      return _this.getRelativeStateNodes(str, state.historyValue);\n    }));\n    var isInternal = !!selectedTransition.internal;\n    var reentryNodes = isInternal ? [] : flatten(nextStateNodes.map(function (n) {\n      return _this.nodesFromChild(n);\n    }));\n    var trees = nextStateNodes.map(function (stateNode) {\n      return stateNode.tree;\n    });\n    var combinedTree = trees.reduce(function (acc, t) {\n      return acc.combine(t);\n    });\n    return {\n      tree: combinedTree,\n      source: state,\n      reentryStates: new Set(reentryNodes),\n      actions: actions\n    };\n  };\n\n  Object.defineProperty(StateNode.prototype, \"tree\", {\n    /**\n     * The state tree represented by this state node.\n     */\n    get: function get() {\n      var stateValue = toStateValue(this.path, this.delimiter);\n      return new StateTree(this.machine, stateValue);\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  StateNode.prototype.nodesFromChild = function (childStateNode) {\n    if (childStateNode.escapes(this)) {\n      return [];\n    }\n\n    var nodes = [];\n    var marker = childStateNode;\n\n    while (marker && marker !== this) {\n      nodes.push(marker);\n      marker = marker.parent;\n    }\n\n    nodes.push(this); // inclusive\n\n    return nodes;\n  };\n\n  StateNode.prototype.getStateTree = function (stateValue) {\n    return new StateTree(this, stateValue);\n  };\n  /**\n   * Whether the given state node \"escapes\" this state node. If the `stateNode` is equal to or the parent of\n   * this state node, it does not escape.\n   */\n\n\n  StateNode.prototype.escapes = function (stateNode) {\n    if (this === stateNode) {\n      return false;\n    }\n\n    var parent = this.parent;\n\n    while (parent) {\n      if (parent === stateNode) {\n        return false;\n      }\n\n      parent = parent.parent;\n    }\n\n    return true;\n  };\n\n  StateNode.prototype.evaluateGuard = function (condition, context, eventObject, interimState) {\n    var condFn;\n    var guards = this.machine.options.guards;\n\n    if (typeof condition === 'string') {\n      if (!guards || !guards[condition]) {\n        throw new Error(\"Condition '\" + condition + \"' is not implemented on machine '\" + this.machine.id + \"'.\");\n      }\n\n      condFn = guards[condition];\n    } else {\n      condFn = condition;\n    }\n\n    return condFn(context, eventObject, interimState);\n  };\n\n  Object.defineProperty(StateNode.prototype, \"delays\", {\n    /**\n     * The array of all delayed transitions.\n     */\n    get: function get() {\n      var _this = this;\n\n      var delays = Array.from(new Set(this.transitions.map(function (transition) {\n        return transition.delay;\n      }).filter(function (delay) {\n        return delay !== undefined;\n      })));\n      return delays.map(function (delay) {\n        return {\n          id: _this.id,\n          delay: delay\n        };\n      });\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  StateNode.prototype.getActions = function (transition, prevState) {\n    var _this = this;\n\n    var entryExitStates = transition.tree ? transition.tree.resolved.getEntryExitStates(this.getStateTree(prevState.value), transition.reentryStates ? transition.reentryStates : undefined) : {\n      entry: [],\n      exit: []\n    };\n    var doneEvents = transition.tree ? transition.tree.getDoneEvents(new Set(entryExitStates.entry)) : [];\n\n    if (!transition.source) {\n      entryExitStates.exit = [];\n    }\n\n    var entryExitActions = {\n      entry: flatten(Array.from(new Set(entryExitStates.entry)).map(function (stateNode) {\n        return __spread(stateNode.onEntry, stateNode.activities.map(function (activity) {\n          return start(activity);\n        }), stateNode.delays.map(function (_a) {\n          var delay = _a.delay,\n              id = _a.id;\n          return send(after(delay, id), {\n            delay: delay\n          });\n        }));\n      })).concat(doneEvents.map(raise)),\n      exit: flatten(Array.from(new Set(entryExitStates.exit)).map(function (stateNode) {\n        return __spread(stateNode.onExit, stateNode.activities.map(function (activity) {\n          return stop(activity);\n        }), stateNode.delays.map(function (_a) {\n          var delay = _a.delay,\n              id = _a.id;\n          return cancel(after(delay, id));\n        }));\n      }))\n    };\n    var actions = entryExitActions.exit.concat(transition.actions).concat(entryExitActions.entry).map(function (action) {\n      return _this.resolveAction(action);\n    });\n    return actions;\n  };\n\n  StateNode.prototype.resolveAction = function (action) {\n    return toActionObject(action, this.machine.options.actions);\n  };\n\n  StateNode.prototype.resolveActivity = function (activity) {\n    var activityDefinition = toActivityDefinition(activity);\n    return activityDefinition;\n  };\n\n  StateNode.prototype.getActivities = function (entryExitStates, activities) {\n    if (!entryExitStates) {\n      return EMPTY_OBJECT;\n    }\n\n    var activityMap = __assign({}, activities);\n\n    Array.from(entryExitStates.exit).forEach(function (stateNode) {\n      stateNode.activities.forEach(function (activity) {\n        activityMap[activity.type] = false;\n      });\n    });\n    Array.from(entryExitStates.entry).forEach(function (stateNode) {\n      stateNode.activities.forEach(function (activity) {\n        activityMap[activity.type] = true;\n      });\n    });\n    return activityMap;\n  };\n  /**\n   * Determines the next state given the current `state` and sent `event`.\n   *\n   * @param state The current State instance or state value\n   * @param event The event that was sent at the current state\n   * @param context The current context (extended state) of the current state\n   */\n\n\n  StateNode.prototype.transition = function (state, event, context) {\n    var resolvedStateValue = typeof state === 'string' ? this.resolve(pathToStateValue(this.getResolvedPath(state))) : state instanceof State ? state : this.resolve(state);\n    var resolvedContext = context ? context : state instanceof State ? state.context : this.machine.context;\n    var eventObject = toEventObject(event);\n    var eventType = eventObject.type;\n\n    if (this.strict) {\n      if (this.events.indexOf(eventType) === -1) {\n        throw new Error(\"Machine '\" + this.id + \"' does not accept event '\" + eventType + \"'\");\n      }\n    }\n\n    var currentState = State.from(resolvedStateValue, resolvedContext);\n\n    var stateTransition = this._transition(currentState.value, currentState, eventObject, resolvedContext);\n\n    var resolvedStateTransition = __assign({}, stateTransition, {\n      tree: stateTransition.tree ? stateTransition.tree.resolved : undefined\n    });\n\n    return this.resolveTransition(resolvedStateTransition, currentState, eventObject);\n  };\n\n  StateNode.prototype.resolveTransition = function (stateTransition, currentState, event) {\n    var _a;\n\n    var resolvedStateValue = stateTransition.tree ? stateTransition.tree.value : undefined;\n    var historyValue = currentState.historyValue ? currentState.historyValue : stateTransition.source ? this.machine.historyValue(currentState.value) : undefined;\n\n    if (!IS_PRODUCTION && stateTransition.tree) {\n      try {\n        this.ensureValidPaths(stateTransition.tree.paths); // TODO: ensure code coverage for this\n      } catch (e) {\n        throw new Error(\"Event '\" + (event ? event.type : 'none') + \"' leads to an invalid configuration: \" + e.message);\n      }\n    }\n\n    var actions = this.getActions(stateTransition, currentState);\n    var entryExitStates = stateTransition.tree ? stateTransition.tree.getEntryExitStates(this.getStateTree(currentState.value)) : {\n      entry: [],\n      exit: []\n    };\n    var activities = stateTransition.tree ? this.getActivities({\n      entry: new Set(entryExitStates.entry),\n      exit: new Set(entryExitStates.exit)\n    }, currentState.activities) : {};\n    var raisedEvents = actions.filter(function (action) {\n      return action.type === actionTypes.raise || action.type === actionTypes.nullEvent;\n    });\n    var nonEventActions = actions.filter(function (action) {\n      return action.type !== actionTypes.raise && action.type !== actionTypes.nullEvent && action.type !== actionTypes.assign;\n    });\n    var assignActions = actions.filter(function (action) {\n      return action.type === actionTypes.assign;\n    });\n    var updatedContext = StateNode.updateContext(currentState.context, event, assignActions);\n    var stateNodes = resolvedStateValue ? this.getStateNodes(resolvedStateValue) : [];\n    var isTransient = stateNodes.some(function (stateNode) {\n      return stateNode.transient;\n    });\n\n    if (isTransient) {\n      raisedEvents.push({\n        type: actionTypes.nullEvent\n      });\n    }\n\n    var meta = __spread([this], stateNodes).reduce(function (acc, stateNode) {\n      if (stateNode.meta !== undefined) {\n        acc[stateNode.id] = stateNode.meta;\n      }\n\n      return acc;\n    }, {});\n\n    var nextState = resolvedStateValue ? new State({\n      value: resolvedStateValue,\n      context: updatedContext,\n      historyValue: historyValue ? StateNode.updateHistoryValue(historyValue, resolvedStateValue) : undefined,\n      history: stateTransition.source ? currentState : undefined,\n      actions: toActionObjects(nonEventActions, this.options.actions),\n      activities: activities,\n      meta: meta,\n      events: raisedEvents,\n      tree: stateTransition.tree\n    }) : undefined;\n\n    if (!nextState) {\n      // Unchanged state should be returned with no actions\n      return State.inert(currentState, updatedContext);\n    } // Dispose of penultimate histories to prevent memory leaks\n\n\n    if (currentState.history) {\n      delete currentState.history.history;\n    }\n\n    var maybeNextState = nextState;\n\n    while (raisedEvents.length) {\n      var currentActions = maybeNextState.actions;\n      var raisedEvent = raisedEvents.shift();\n      maybeNextState = this.transition(maybeNextState, raisedEvent.type === actionTypes.nullEvent ? NULL_EVENT : raisedEvent.event, maybeNextState.context);\n\n      (_a = maybeNextState.actions).unshift.apply(_a, __spread(currentActions));\n    }\n\n    return maybeNextState;\n  };\n\n  StateNode.updateContext = function (context, event, assignActions) {\n    var updatedContext = context ? assignActions.reduce(function (acc, assignAction) {\n      var assignment = assignAction.assignment;\n      var partialUpdate = {};\n\n      if (typeof assignment === 'function') {\n        partialUpdate = assignment(acc, event || {\n          type: ActionTypes.Init\n        });\n      } else {\n        keys(assignment).forEach(function (key) {\n          var propAssignment = assignment[key];\n          partialUpdate[key] = typeof propAssignment === 'function' ? propAssignment(acc, event) : propAssignment;\n        });\n      }\n\n      return Object.assign({}, acc, partialUpdate);\n    }, context) : context;\n    return updatedContext;\n  };\n\n  StateNode.prototype.ensureValidPaths = function (paths) {\n    var _this = this;\n\n    var e_2, _a;\n\n    var visitedParents = new Map();\n    var stateNodes = flatten(paths.map(function (_path) {\n      return _this.getRelativeStateNodes(_path);\n    }));\n\n    try {\n      outer: for (var stateNodes_1 = __values(stateNodes), stateNodes_1_1 = stateNodes_1.next(); !stateNodes_1_1.done; stateNodes_1_1 = stateNodes_1.next()) {\n        var stateNode = stateNodes_1_1.value;\n        var marker = stateNode;\n\n        while (marker.parent) {\n          if (visitedParents.has(marker.parent)) {\n            if (marker.parent.type === 'parallel') {\n              continue outer;\n            }\n\n            throw new Error(\"State node '\" + stateNode.id + \"' shares parent '\" + marker.parent.id + \"' with state node '\" + visitedParents.get(marker.parent).map(function (a) {\n              return a.id;\n            }) + \"'\");\n          }\n\n          if (!visitedParents.get(marker.parent)) {\n            visitedParents.set(marker.parent, [stateNode]);\n          } else {\n            visitedParents.get(marker.parent).push(stateNode);\n          }\n\n          marker = marker.parent;\n        }\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (stateNodes_1_1 && !stateNodes_1_1.done && (_a = stateNodes_1.return)) _a.call(stateNodes_1);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n  };\n  /**\n   * Returns the child state node from its relative `stateKey`, or throws.\n   */\n\n\n  StateNode.prototype.getStateNode = function (stateKey) {\n    if (isStateId(stateKey)) {\n      return this.machine.getStateNodeById(stateKey);\n    }\n\n    if (!this.states) {\n      throw new Error(\"Unable to retrieve child state '\" + stateKey + \"' from '\" + this.id + \"'; no child states exist.\");\n    }\n\n    var result = this.states[stateKey];\n\n    if (!result) {\n      throw new Error(\"Child state '\" + stateKey + \"' does not exist on '\" + this.id + \"'\");\n    }\n\n    return result;\n  };\n  /**\n   * Returns the state node with the given `stateId`, or throws.\n   *\n   * @param stateId The state ID. The prefix \"#\" is removed.\n   */\n\n\n  StateNode.prototype.getStateNodeById = function (stateId) {\n    var resolvedStateId = isStateId(stateId) ? stateId.slice(STATE_IDENTIFIER.length) : stateId;\n\n    if (resolvedStateId === this.id) {\n      return this;\n    }\n\n    var stateNode = this.machine.idMap[resolvedStateId];\n\n    if (!stateNode) {\n      throw new Error(\"Substate '#\" + resolvedStateId + \"' does not exist on '\" + this.id + \"'\");\n    }\n\n    return stateNode;\n  };\n  /**\n   * Returns the relative state node from the given `statePath`, or throws.\n   *\n   * @param statePath The string or string array relative path to the state node.\n   */\n\n\n  StateNode.prototype.getStateNodeByPath = function (statePath) {\n    var arrayStatePath = toStatePath(statePath, this.delimiter).slice();\n    var currentStateNode = this;\n\n    while (arrayStatePath.length) {\n      var key = arrayStatePath.shift();\n      currentStateNode = currentStateNode.getStateNode(key);\n    }\n\n    return currentStateNode;\n  };\n  /**\n   * Resolves a partial state value with its full representation in this machine.\n   *\n   * @param stateValue The partial state value to resolve.\n   */\n\n\n  StateNode.prototype.resolve = function (stateValue) {\n    var _this = this;\n\n    var _a;\n\n    if (!stateValue) {\n      return this.initialStateValue || EMPTY_OBJECT; // TODO: type-specific properties\n    }\n\n    switch (this.type) {\n      case 'parallel':\n        return mapValues(this.initialStateValue, function (subStateValue, subStateKey) {\n          var sv = subStateValue ? _this.getStateNode(subStateKey).resolve(stateValue[subStateKey] || subStateValue) : EMPTY_OBJECT;\n          return sv;\n        });\n\n      case 'compound':\n        if (typeof stateValue === 'string') {\n          var subStateNode = this.getStateNode(stateValue);\n\n          if (subStateNode.type === 'parallel' || subStateNode.type === 'compound') {\n            return _a = {}, _a[stateValue] = subStateNode.initialStateValue, _a;\n          }\n\n          return stateValue;\n        }\n\n        if (!keys(stateValue).length) {\n          return this.initialStateValue || {};\n        }\n\n        return mapValues(stateValue, function (subStateValue, subStateKey) {\n          return subStateValue ? _this.getStateNode(subStateKey).resolve(subStateValue) : EMPTY_OBJECT;\n        });\n\n      default:\n        return stateValue || EMPTY_OBJECT;\n    }\n  };\n\n  Object.defineProperty(StateNode.prototype, \"resolvedStateValue\", {\n    get: function get() {\n      var _a, _b;\n\n      var key = this.key;\n\n      if (this.type === 'parallel') {\n        return _a = {}, _a[key] = mapFilterValues(this.states, function (stateNode) {\n          return stateNode.resolvedStateValue[stateNode.key];\n        }, function (stateNode) {\n          return !stateNode.history;\n        }), _a;\n      }\n\n      if (!this.initial) {\n        // If leaf node, value is just the state node's key\n        return key;\n      }\n\n      return _b = {}, _b[key] = this.states[this.initial].resolvedStateValue, _b;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  StateNode.prototype.getResolvedPath = function (stateIdentifier) {\n    if (isStateId(stateIdentifier)) {\n      var stateNode = this.machine.idMap[stateIdentifier.slice(STATE_IDENTIFIER.length)];\n\n      if (!stateNode) {\n        throw new Error(\"Unable to find state node '\" + stateIdentifier + \"'\");\n      }\n\n      return stateNode.path;\n    }\n\n    return toStatePath(stateIdentifier, this.delimiter);\n  };\n\n  Object.defineProperty(StateNode.prototype, \"initialStateValue\", {\n    get: function get() {\n      if (this.__cache.initialState) {\n        return this.__cache.initialState;\n      }\n\n      var initialStateValue = this.type === 'parallel' ? mapFilterValues(this.states, function (state) {\n        return state.initialStateValue || EMPTY_OBJECT;\n      }, function (stateNode) {\n        return !stateNode.history;\n      }) : typeof this.resolvedStateValue === 'string' ? undefined : this.resolvedStateValue[this.key];\n      this.__cache.initialState = initialStateValue;\n      return this.__cache.initialState;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  StateNode.prototype.getInitialState = function (stateValue, context) {\n    if (context === void 0) {\n      context = this.machine.context;\n    }\n\n    var activityMap = {};\n    var actions = [];\n    this.getStateNodes(stateValue).forEach(function (stateNode) {\n      if (stateNode.onEntry) {\n        actions.push.apply(actions, __spread(stateNode.onEntry));\n      }\n\n      if (stateNode.activities) {\n        stateNode.activities.forEach(function (activity) {\n          activityMap[getEventType(activity)] = true;\n          actions.push(start(activity));\n        });\n      }\n    });\n    var assignActions = actions.filter(function (action) {\n      return typeof action === 'object' && action.type === actionTypes.assign;\n    });\n    var updatedContext = StateNode.updateContext(context, undefined, assignActions);\n    var initialNextState = new State({\n      value: stateValue,\n      context: updatedContext,\n      activities: activityMap\n    });\n    return initialNextState;\n  };\n\n  Object.defineProperty(StateNode.prototype, \"initialState\", {\n    /**\n     * The initial State instance, which includes all actions to be executed from\n     * entering the initial state.\n     */\n    get: function get() {\n      var initialStateValue = this.initialStateValue;\n\n      if (!initialStateValue) {\n        throw new Error(\"Cannot retrieve initial state from simple state '\" + this.id + \"'.\");\n      }\n\n      var state = this.getInitialState(initialStateValue);\n      return this.resolveTransition({\n        tree: this.getStateTree(initialStateValue),\n        source: undefined,\n        reentryStates: new Set(this.getStateNodes(initialStateValue)),\n        actions: []\n      }, state, undefined);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(StateNode.prototype, \"target\", {\n    /**\n     * The target state value of the history state node, if it exists. This represents the\n     * default state value to transition to if no history value exists yet.\n     */\n    get: function get() {\n      var target;\n\n      if (this.history) {\n        var historyConfig = this.config;\n\n        if (historyConfig.target && typeof historyConfig.target === 'string') {\n          target = isStateId(historyConfig.target) ? pathToStateValue(this.machine.getStateNodeById(historyConfig.target).path.slice(this.path.length - 1)) : historyConfig.target;\n        } else {\n          target = historyConfig.target;\n        }\n      }\n\n      return target;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  StateNode.prototype.getStates = function (stateValue) {\n    var _this = this;\n\n    if (typeof stateValue === 'string') {\n      return [this.states[stateValue]];\n    }\n\n    var stateNodes = [];\n    keys(stateValue).forEach(function (key) {\n      stateNodes.push.apply(stateNodes, __spread(_this.states[key].getStates(stateValue[key])));\n    });\n    return stateNodes;\n  };\n  /**\n   * Returns the leaf nodes from a state path relative to this state node.\n   *\n   * @param relativeStateId The relative state path to retrieve the state nodes\n   * @param history The previous state to retrieve history\n   * @param resolve Whether state nodes should resolve to initial child state nodes\n   */\n\n\n  StateNode.prototype.getRelativeStateNodes = function (relativeStateId, historyValue, resolve) {\n    if (resolve === void 0) {\n      resolve = true;\n    }\n\n    if (typeof relativeStateId === 'string' && isStateId(relativeStateId)) {\n      var unresolvedStateNode = this.getStateNodeById(relativeStateId);\n      return resolve ? unresolvedStateNode.history ? unresolvedStateNode.resolveHistory(historyValue) : unresolvedStateNode.initialStateNodes : [unresolvedStateNode];\n    }\n\n    var statePath = toStatePath(relativeStateId, this.delimiter);\n    var rootStateNode = this.parent || this;\n    var unresolvedStateNodes = rootStateNode.getFromRelativePath(statePath, historyValue);\n\n    if (!resolve) {\n      return unresolvedStateNodes;\n    }\n\n    return flatten(unresolvedStateNodes.map(function (stateNode) {\n      return stateNode.initialStateNodes;\n    }));\n  };\n\n  Object.defineProperty(StateNode.prototype, \"initialStateNodes\", {\n    get: function get() {\n      var _this = this;\n\n      if (this.type === 'atomic' || this.type === 'final') {\n        return [this];\n      } // Case when state node is compound but no initial state is defined\n\n\n      if (this.type === 'compound' && !this.initial) {\n        if (!IS_PRODUCTION) {\n          // tslint:disable-next-line:no-console\n          console.warn(\"Compound state node '\" + this.id + \"' has no initial state.\");\n        }\n\n        return [this];\n      }\n\n      var initialStateValue = this.initialStateValue;\n      var initialStateNodePaths = toStatePaths(initialStateValue);\n      return flatten(initialStateNodePaths.map(function (initialPath) {\n        return _this.getFromRelativePath(initialPath);\n      }));\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * Retrieves state nodes from a relative path to this state node.\n   *\n   * @param relativePath The relative path from this state node\n   * @param historyValue\n   */\n\n  StateNode.prototype.getFromRelativePath = function (relativePath, historyValue) {\n    if (!relativePath.length) {\n      return [this];\n    }\n\n    var _a = __read(relativePath),\n        x = _a[0],\n        xs = _a.slice(1);\n\n    if (!this.states) {\n      throw new Error(\"Cannot retrieve subPath '\" + x + \"' from node with no states\");\n    }\n\n    var childStateNode = this.getStateNode(x);\n\n    if (childStateNode.history) {\n      return childStateNode.resolveHistory(historyValue);\n    }\n\n    if (!this.states[x]) {\n      throw new Error(\"Child state '\" + x + \"' does not exist on '\" + this.id + \"'\");\n    }\n\n    return this.states[x].getFromRelativePath(xs, historyValue);\n  };\n\n  StateNode.updateHistoryValue = function (hist, stateValue) {\n    function update(_hist, _sv) {\n      return mapValues(_hist.states, function (subHist, key) {\n        if (!subHist) {\n          return undefined;\n        }\n\n        var subStateValue = (typeof _sv === 'string' ? undefined : _sv[key]) || (subHist ? subHist.current : undefined);\n\n        if (!subStateValue) {\n          return undefined;\n        }\n\n        return {\n          current: subStateValue,\n          states: update(subHist, subStateValue)\n        };\n      });\n    }\n\n    return {\n      current: stateValue,\n      states: update(hist, stateValue)\n    };\n  };\n\n  StateNode.prototype.historyValue = function (relativeStateValue) {\n    if (!keys(this.states).length) {\n      return undefined;\n    }\n\n    return {\n      current: relativeStateValue || this.initialStateValue,\n      states: mapFilterValues(this.states, function (stateNode, key) {\n        if (!relativeStateValue) {\n          return stateNode.historyValue();\n        }\n\n        var subStateValue = typeof relativeStateValue === 'string' ? undefined : relativeStateValue[key];\n        return stateNode.historyValue(subStateValue || stateNode.initialStateValue);\n      }, function (stateNode) {\n        return !stateNode.history;\n      })\n    };\n  };\n  /**\n   * Resolves to the historical value(s) of the parent state node,\n   * represented by state nodes.\n   *\n   * @param historyValue\n   */\n\n\n  StateNode.prototype.resolveHistory = function (historyValue) {\n    var _this = this;\n\n    if (!this.history) {\n      return [this];\n    }\n\n    var parent = this.parent;\n\n    if (!historyValue) {\n      return this.target ? flatten(toStatePaths(this.target).map(function (relativeChildPath) {\n        return parent.getFromRelativePath(relativeChildPath);\n      })) : this.parent.initialStateNodes;\n    }\n\n    var subHistoryValue = nestedPath(parent.path, 'states')(historyValue).current;\n\n    if (typeof subHistoryValue === 'string') {\n      return [parent.getStateNode(subHistoryValue)];\n    }\n\n    return flatten(toStatePaths(subHistoryValue).map(function (subStatePath) {\n      return _this.history === 'deep' ? parent.getFromRelativePath(subStatePath) : [parent.states[subStatePath[0]]];\n    }));\n  };\n\n  Object.defineProperty(StateNode.prototype, \"stateIds\", {\n    /**\n     * All the state node IDs of this state node and its descendant state nodes.\n     */\n    get: function get() {\n      var _this = this;\n\n      var childStateIds = flatten(keys(this.states).map(function (stateKey) {\n        return _this.states[stateKey].stateIds;\n      }));\n      return [this.id].concat(childStateIds);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(StateNode.prototype, \"events\", {\n    /**\n     * All the event types accepted by this state node and its descendants.\n     */\n    get: function get() {\n      if (this.__cache.events) {\n        return this.__cache.events;\n      }\n\n      var states = this.states;\n      var events = new Set(this.ownEvents);\n\n      if (states) {\n        keys(states).forEach(function (stateId) {\n          var e_3, _a;\n\n          var state = states[stateId];\n\n          if (state.states) {\n            try {\n              for (var _b = __values(state.events), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var event_1 = _c.value;\n                events.add(\"\" + event_1);\n              }\n            } catch (e_3_1) {\n              e_3 = {\n                error: e_3_1\n              };\n            } finally {\n              try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n              } finally {\n                if (e_3) throw e_3.error;\n              }\n            }\n          }\n        });\n      }\n\n      return this.__cache.events = Array.from(events);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(StateNode.prototype, \"ownEvents\", {\n    /**\n     * All the events that have transitions directly from this state node.\n     *\n     * Excludes any inert events.\n     */\n    get: function get() {\n      var _this = this;\n\n      var events = new Set(keys(this.on).filter(function (key) {\n        var transitions = _this.on[key];\n        return transitions.some(function (transition) {\n          return !(!transition.target && !transition.actions.length && transition.internal);\n        });\n      }));\n      return Array.from(events);\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  StateNode.prototype.formatTransition = function (target, transitionConfig, event) {\n    var _this = this;\n\n    var internal = transitionConfig ? transitionConfig.internal : false; // Check if there is no target (targetless)\n    // An undefined transition signals that the state node should not transition from that event.\n\n    if (target === undefined || target === TARGETLESS_KEY) {\n      return __assign({}, transitionConfig, {\n        actions: transitionConfig ? toArray(transitionConfig.actions).map(function (action) {\n          return toActionObject(action);\n        }) : [],\n        target: undefined,\n        internal: transitionConfig ? transitionConfig.internal === undefined ? true : transitionConfig.internal : true,\n        event: event\n      });\n    }\n\n    var targets = toArray(target); // Format targets to their full string path\n\n    var formattedTargets = targets.map(function (_target) {\n      var internalTarget = typeof _target === 'string' && _target[0] === _this.delimiter;\n      internal = internal || internalTarget; // If internal target is defined on machine,\n      // do not include machine key on target\n\n      if (internalTarget && !_this.parent) {\n        return _target.slice(1);\n      }\n\n      return internalTarget ? _this.key + _target : \"\" + _target;\n    });\n    return __assign({}, transitionConfig, {\n      actions: transitionConfig ? toArray(transitionConfig.actions).map(function (action) {\n        return toActionObject(action);\n      }) : [],\n      target: formattedTargets,\n      internal: internal,\n      event: event\n    });\n  };\n\n  StateNode.prototype.formatTransitions = function () {\n    var _this = this;\n\n    var _a;\n\n    var onConfig = this.config.on || EMPTY_OBJECT;\n    var doneConfig = this.config.onDone ? (_a = {}, _a[\"\" + done(this.id)] = this.config.onDone, _a) : undefined;\n    var invokeConfig = this.invoke.reduce(function (acc, singleInvokeConfig) {\n      if (singleInvokeConfig.onDone) {\n        acc[doneInvoke(singleInvokeConfig.id)] = singleInvokeConfig.onDone;\n      }\n\n      if (singleInvokeConfig.onError) {\n        acc[actionTypes.errorExecution] = singleInvokeConfig.onError;\n      }\n\n      return acc;\n    }, {});\n    var delayedTransitions = this.after;\n    var formattedTransitions = mapValues(__assign({}, onConfig, doneConfig, invokeConfig), function (value, event) {\n      if (value === undefined) {\n        return [{\n          target: undefined,\n          event: event,\n          actions: [],\n          internal: true\n        }];\n      }\n\n      if (Array.isArray(value)) {\n        return value.map(function (targetTransitionConfig) {\n          return _this.formatTransition(targetTransitionConfig.target, targetTransitionConfig, event);\n        });\n      }\n\n      if (typeof value === 'string') {\n        return [_this.formatTransition([value], undefined, event)];\n      }\n\n      if (!IS_PRODUCTION) {\n        keys(value).forEach(function (key) {\n          if (['target', 'actions', 'internal', 'in', 'cond'].indexOf(key) === -1) {\n            throw new Error(\"State object mapping of transitions is deprecated. Check the config for event '\" + event + \"' on state '\" + _this.id + \"'.\");\n          }\n        });\n      }\n\n      return [_this.formatTransition(value.target, value, event)];\n    });\n    delayedTransitions.forEach(function (delayedTransition) {\n      formattedTransitions[delayedTransition.event] = formattedTransitions[delayedTransition.event] || [];\n      formattedTransitions[delayedTransition.event].push(delayedTransition);\n    });\n    return formattedTransitions;\n  };\n\n  return StateNode;\n}();\n\nexport { StateNode };","import { matchesState } from './utils';\nimport { mapState } from './mapState';\nimport { StateNode } from './StateNode';\nimport { State } from './State';\nimport { Machine } from './Machine';\nimport { raise, send, sendParent, log, cancel, start, stop, assign, after, done, invoke } from './actions';\nvar actions = {\n  raise: raise,\n  send: send,\n  sendParent: sendParent,\n  log: log,\n  cancel: cancel,\n  start: start,\n  stop: stop,\n  assign: assign,\n  after: after,\n  done: done,\n  invoke: invoke\n};\nexport { Machine, StateNode, State, matchesState, mapState, actions };\nexport * from './types';","import { StateNode } from './StateNode';\nexport function Machine(config, options, initialContext) {\n  if (initialContext === void 0) {\n    initialContext = config.context;\n  }\n\n  return new StateNode(config, options, initialContext);\n}","import React, { Component } from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport { StateChart } from \"@statecharts/xstate-viz\";\nimport { Machine, StateNode, MachineOptions } from \"xstate\";\nimport { assign } from \"xstate/lib/actions\";\n\nconst lightMachine = Machine({\n  id: \"light\",\n  initial: \"green\",\n  states: {\n    green: {\n      on: { TIMER: \"yellow\" }\n    },\n    yellow: {\n      on: { TIMER: \"red\" }\n    },\n    red: {\n      on: { TIMER: \"green\" }\n    }\n  }\n});\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <StateChart machine={lightMachine} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}